<!doctype html><html itemscope itemtype=http://schema.org/WebPage lang=zh-CN><head><meta name=generator content="Hugo 0.139.0"><meta name=theme content='FixIt v0.3.15'><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=2"><meta name=robots content="noodp"><title>fengchen</title><meta name=author content="fengchen"><meta name=description content><meta itemprop=name content="fengchen"><meta itemprop=datePublished content="2026-01-23T12:33:12+08:00"><meta itemprop=dateModified content="2026-01-23T12:33:12+08:00"><meta property="og:url" content="https://fengchen321.github.io/"><meta property="og:site_name" content="fengchen"><meta property="og:title" content="fengchen"><meta property="og:locale" content="zh_CN"><meta property="og:type" content="website"><meta name=twitter:card content="summary"><meta name=twitter:title content="fengchen"><meta name=application-name content="FixIt"><meta name=apple-mobile-web-app-title content="FixIt"><meta name=theme-color data-light=#f8f8f8 data-dark=#252627 content="#f8f8f8"><meta name=msapplication-TileColor content="#da532c"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><link rel=canonical type=text/html href=https://fengchen321.github.io/ title=fengchen><link rel=alternate type=application/rss+xml href=https://fengchen321.github.io/index.xml title=fengchen><link rel=search type=application/json href=https://fengchen321.github.io/search.json title=fengchen><link rel=stylesheet href=/css/style.min.css><link rel=preload href=/lib/fontawesome-free/all.min.css as=style onload='this.removeAttribute("onload"),this.rel="stylesheet"'><noscript><link rel=stylesheet href=/lib/fontawesome-free/all.min.css></noscript><link rel=preload href=/lib/animate/animate.min.css as=style onload='this.removeAttribute("onload"),this.rel="stylesheet"'><noscript><link rel=stylesheet href=/lib/animate/animate.min.css></noscript><script type=application/ld+json>{"@context":"http://schema.org","@type":"WebSite","url":"https:\/\/fengchen321.github.io\/","inLanguage":"zh-CN","author":{"@type":"Person","name":"fengchen"},"name":"fengchen"}</script><script src=/js/head/color-scheme.min.js></script></head><body data-header-desktop=sticky data-header-mobile=auto><div class=wrapper data-page-style=normal><header class="desktop animate__faster" id=header-desktop><div class=header-wrapper><div class=header-title><a href=/ title=fengchen><span class=header-title-text>fengchen</span></a><span class=header-subtitle></span></div><nav><ul class=menu><li class=menu-item><a class=menu-link href=/about/ title=关于本站>关于本站</a></li><li class=menu-item><a class=menu-link href=/posts/>所有文章</a></li><li class=menu-item><a class=menu-link href=/tags/>标签</a></li><li class=menu-item><a class=menu-link href=/categories/>分类</a></li><li class="menu-item delimiter"></li><li class="menu-item search" id=search-desktop><input type=text placeholder=搜索文章标题或内容…… id=search-input-desktop>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-desktop title=搜索><i class="fa-solid fa-search fa-fw" aria-hidden=true></i>
</a><a href=javascript:void(0); class="search-button search-clear" id=search-clear-desktop title=清空><i class="fa-solid fa-times-circle fa-fw" aria-hidden=true></i>
</a><span class="search-button search-loading" id=search-loading-desktop><i class="fa-solid fa-spinner fa-fw fa-spin" aria-hidden=true></i></span></li><li class="menu-item theme-switch" title=切换主题><i class="fa-solid fa-adjust fa-fw" aria-hidden=true></i></li></ul></nav></div></header><header class="mobile animate__faster" id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=/ title=fengchen><span class=header-title-text>fengchen</span></a><span class=header-subtitle></span></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><nav><ul class=menu id=menu-mobile><li class=search-wrapper><div class="search mobile" id=search-mobile><input type=text placeholder=搜索文章标题或内容…… id=search-input-mobile>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-mobile title=搜索><i class="fa-solid fa-search fa-fw" aria-hidden=true></i>
</a><a href=javascript:void(0); class="search-button search-clear" id=search-clear-mobile title=清空><i class="fa-solid fa-times-circle fa-fw" aria-hidden=true></i>
</a><span class="search-button search-loading" id=search-loading-mobile><i class="fa-solid fa-spinner fa-fw fa-spin" aria-hidden=true></i></span></div><a href=javascript:void(0); class=search-cancel id=search-cancel-mobile>取消</a></li><li class=menu-item><a class=menu-link href=/about/ title=关于本站>关于本站</a></li><li class=menu-item><a class=menu-link href=/posts/>所有文章</a></li><li class=menu-item><a class=menu-link href=/tags/>标签</a></li><li class=menu-item><a class=menu-link href=/categories/>分类</a></li><li class="menu-item menu-system"><span class="menu-system-item theme-switch" title=切换主题><i class="fa-solid fa-adjust fa-fw" aria-hidden=true></i></span></li></ul></nav></div></header><div class="search-dropdown desktop"><div id=search-dropdown-desktop></div></div><div class="search-dropdown mobile"><div id=search-dropdown-mobile></div></div><main class=container><div class="page home posts"><article class="single summary" itemscope itemtype=http://schema.org/Article><h2 class=single-title itemprop="name headline"><a href=/posts/computer/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/>汇编语言</a></h2><div class=post-meta><span class=post-author><span class=author><i class="fa-solid fa-user-circle" aria-hidden=true></i>
fengchen</span></span>&nbsp;<span class=post-publish title='2024-12-24 13:33:12'>发布于 <time datetime=2024-12-24>2024-12-24</time></span><span class=post-included-in>&nbsp;收录于 <a href=/categories/system/ class=post-category title="分类 - System"><i class="fa-regular fa-folder fa-fw" aria-hidden=true></i> System</a></span></div><div class=content>汇编语言 配置安装 1 2 3 4 apt install nasm gdb # 安装 # vscode 插件 The Netwide Assembler (NASM) 后缀改成nas或者asm nasm -f elf -o hello.o hello.s # 编译 ld -m elf_i386 -o hello.out hello.o # 链接 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 ASM = nasm LD = ld ASM_FLAGS = -f elf LD_FLAGS = -m elf_i386 # Source and output files TARGETS = code01 SRCS = $(wildcard *.s) OBJS = $(patsubst %.s, %.o, $(SRCS)) # Targets all: $(TARGETS) $(TARGETS): %: %.o $(LD) -o $@ $^ $(LD_FLAGS) %.o: %.s $(ASM) $(ASM_FLAGS) $&lt; -o $@ .PHONY: clean clean: rm -f *.o $(TARGETS) gdb 1 2 3 4 5 6 7 8 9 10 # 启动配置文件 .gdbinit，需要设置安全设置生效 cat ~/.config/gdb/gdbinit add-auto-load-safe-path /home/username/compiler_test/lab01/ # .gdbinit break _start run set disassembly-flavor intel # 默认att, 设置intel风格 # set disassemble-next-line on layout asm layout reg 常用gdb调试 1 2 3 4 5 6 7 8 # nm 查看符号表 # x /选项 地址 查看各个变量内存信息 const char* str = "test"; x str # 默认16进制显示，内存存储内容和“test"相反（小端存储） 0x74736574 x /s str # 直接显示内容 ”test" x /d str # 十进制显示 x /4d str # 十进制显示，显示宽度为4 # 变量非指针类型，如int， 先p &amp;value_name, 使用x查看 X86体系结构 寄存器 分类 英文全称 16 位 32 位 64 位 通用寄存器 Accumulator ax eax rax 通用寄存器 Base bx ebx rbx 通用寄存器 Counter cx ecx rcx 通用寄存器 Data dx edx rdx 指针寄存器：栈指针，指向当前栈顶 Stack Pointer sp esp rsp 指针寄存器：基址指针，通常用于访问栈帧中的局部变量 Base Pointer bp ebp rbp 变地址寄存器：源变址寄存器 Source Index si esi rsi 变地址寄存器：目的变址寄存器 Destination Index di edi rdi 控制寄存器：指令指针，指向下一条要执行的指令 Instruction Pointer ip eip rip 控制寄存器：标志寄存器，存储 CPU 的状态标志 Flag flag eflag rflag 段寄存器 Code Segment cs cs cs 段寄存器 Data Segment ds ds ds 段寄存器 Stack Segment ss ss ss 段寄存器 Extra Segment es es es 基本汇编语法 Basic Instruction 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 mov dest, src ; move src to desc mov eax, 4 ; 将立即数 (immidiate) 存入到 eax 寄存器中 mov bx, ax ; bx = ax add eax, 4 ; eax = eax + 4 sub ebx, edi ; ebx = ebx - edi inc ecx ; ecx++ mov eax, 10 mov ebx, 20 mul ebx ; edx:eax = eax * ebx mul无符号,imul有符号 edx:eax 表示 64 位的值 mov eax, 100 mov ebx, 20 div ebx ; eax = 5 (商), edx = 0 (余数) div无符号,idiv有符号 ; lea 将变量的地址加载到寄存器中,大致相当于c中的&amp;q lea ebx, [eax + ecx * 4] ; 数组索引计算：把eax寄存器中的值加上ecx乘以4（int）的结果，作为数组元素的地址放入ebx寄存器 lea edx, [eax + offsetof(struct_name, member_name)] ; 结构体成员访问：结构体struct_name中成员member_name的偏移量，将内存中的地址存入edx寄存器 lea ecx, [ebp - size] ; 动态内存分配：使用栈帧指针ebp减去size的值，得到内存分配的起始地址，并将结果存入ecx寄存器 Directive Instruction 定义常量 1 2 3 symbol equ 128 aaa equ 8 %define SIZE 128 定义内存 1 2 3 4 L1 db 0 ; 定义一个字节, 并初始化为 0 L2 dw0 ; 定义一个字 (word), 并初始化为 0 L3 resb 4 ; 预留 4 个字节 L4 times 100 db 1 ; 100 次定义字节, 初始化成 1 寻址模式 立即寻址 1 mov eax, 10 ; 将立即数 10 加载到 eax 寄存器寻址 1 mov eax, ebx ; 将 ebx 的值加载到 eax 直接寻址 1 mov eax, [0x1000] ; 将地址 0x1000 处的值加载到 eax 寄存器间接寻址 1 mov eax, [ebx] ; 将 ebx 指向的内存地址的值加载到 eax 基址加变址寻址 1 mov eax, [ebx+ecx*4] ; 将 ebx + ecx * 4 处的值加载到 eax 控制流 比较指令 Bit Label Description 0 CF Carry Flag(进位标志)：运算结果的最高有效位有进位（加法）或借位（减法）时，进位标志置1 2 PF Parity Flag（奇偶标志）：运算结果的所有位中1的个数是偶数置1 4 AF Auxiliary Carry flag（辅助进位标志位）：第3位向第4位发生了进位，那么AF标志位置1 6 ZF Zero Flag：结果为0，置1 7 SF Sign Flag：结果为负数（最高位为1），置1 8 TF Trap Flag：陷阱标志位 ，用于调试，置 1 时单步执行。 9 IF Interrupt enable Flag：是否响应中断 10 DF Direction Flag（方向标志位）控制字符串操作的方向（0：递增，1：递减） 11 OF Overflow Flag（溢出标志位） 12-13 IOPL I/O privilege level：控制 I/O 指令的执行权限 14 NT Nested task 16 RF Resume Flag 用于调试，控制是否忽略断点 17 VM Virtual-8086 mode：置 1 时进入虚拟 8086 模式 18 AC Alignment check / Access Control：置 1 时启用对齐检查 19 VIF Virtual Interrupt Flag：虚拟模式下的中断标志 20 VIP Virtual Interrupt Pending：虚拟模式下的中断挂起状态。 21 ID ID Flag ：支持 CPUID 指令的标志 1 cmp a, b ;计算 a-b 的值,并设置标志寄存器 对于无符号数字计算，存在以下场景: ZF(Zero Flag), CF(Carry Flag)</div><div class=post-footer><a href=/posts/computer/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/>阅读全文</a><div class=post-tags><i class="fa-solid fa-tags fa-fw me-1" aria-hidden=true></i><a href=/tags/system/ class=post-tag>System</a><a href=/tags/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/ class=post-tag>汇编语言</a><a href=/tags/x86/ class=post-tag>X86</a><a href=/tags/cpu/ class=post-tag>CPU</a><a href=/tags/%E5%AF%84%E5%AD%98%E5%99%A8/ class=post-tag>寄存器</a></div></div></article><article class="single summary" itemscope itemtype=http://schema.org/Article><h2 class=single-title itemprop="name headline"><a href=/posts/other/record/>Record</a></h2><div class=post-meta><span class=post-author><span class=author><i class="fa-solid fa-user-circle" aria-hidden=true></i>
fengchen</span></span>&nbsp;<span class=post-publish title='2024-12-01 13:33:12'>发布于 <time datetime=2024-12-01>2024-12-01</time></span><span class=post-included-in>&nbsp;收录于 <a href=/categories/other/ class=post-category title="分类 - Other"><i class="fa-regular fa-folder fa-fw" aria-hidden=true></i> Other</a></span></div><div class=content>常用工具 WSL 1 2 3 4 5 6 7 8 9 # wsl --list --online #查看可用发行版列表 # wsl --list --verbose # 列出已安装的 Linux 分发版 # wsl --status # 检查 WSL 状态 wsl --install -d Ubuntu-22.04 # 安装后重启 wsl --shutdown # 使其stop wsl --export Ubuntu-22.04 D:\wsl_ubuntu\Ubuntu.tar # 导出备份 wsl --unregister Ubuntu-22.04 #删除当前安装的系统 wsl --import Ubuntu-22.04 D:\wsl_ubuntu D:\wsl_ubuntu\Ubuntu.tar Ubuntu2204 config --default-user fengchen 和windows共享代理 在Windows用户目录下新建文件.wslconfig</div><div class=post-footer><a href=/posts/other/record/>阅读全文</a><div class=post-tags><i class="fa-solid fa-tags fa-fw me-1" aria-hidden=true></i><a href=/tags/other/ class=post-tag>Other</a></div></div></article><article class="single summary" itemscope itemtype=http://schema.org/Article><h2 class=single-title itemprop="name headline"><a href=/posts/other/blog/>Blog配置</a></h2><div class=post-meta><span class=post-author><span class=author><i class="fa-solid fa-user-circle" aria-hidden=true></i>
fengchen</span></span>&nbsp;<span class=post-publish title='2024-11-24 20:14:59'>发布于 <time datetime=2024-11-24>2024-11-24</time></span><span class=post-included-in>&nbsp;收录于 <a href=/categories/other/ class=post-category title="分类 - Other"><i class="fa-regular fa-folder fa-fw" aria-hidden=true></i> Other</a></span></div><div class=content>安装Hugo 1 winget install Hugo.Hugo.Extended 安装完成后查看hugo版本验证安装是否成功</div><div class=post-footer><a href=/posts/other/blog/>阅读全文</a><div class=post-tags><i class="fa-solid fa-tags fa-fw me-1" aria-hidden=true></i><a href=/tags/other/ class=post-tag>Other</a></div></div></article><article class="single summary" itemscope itemtype=http://schema.org/Article><h2 class=single-title itemprop="name headline"><a href=/posts/c++/c++%E5%B9%B6%E5%8F%91/>C++并发</a></h2><div class=post-meta><span class=post-author><span class=author><i class="fa-solid fa-user-circle" aria-hidden=true></i>
fengchen</span></span>&nbsp;<span class=post-publish title='2023-10-15 13:33:12'>发布于 <time datetime=2023-10-15>2023-10-15</time></span><span class=post-included-in>&nbsp;收录于 <a href=/categories/c++/ class=post-category title="分类 - C++"><i class="fa-regular fa-folder fa-fw" aria-hidden=true></i> C++</a></span></div><div class=content>C++ Concurrency 进程和线程的区别</div><div class=post-footer><a href=/posts/c++/c++%E5%B9%B6%E5%8F%91/>阅读全文</a><div class=post-tags><i class="fa-solid fa-tags fa-fw me-1" aria-hidden=true></i><a href=/tags/c++/ class=post-tag>C++</a></div></div></article><article class="single summary" itemscope itemtype=http://schema.org/Article><h2 class=single-title itemprop="name headline"><a href=/posts/c++/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/>设计模式</a></h2><div class=post-meta><span class=post-author><span class=author><i class="fa-solid fa-user-circle" aria-hidden=true></i>
fengchen</span></span>&nbsp;<span class=post-publish title='2023-09-15 13:33:12'>发布于 <time datetime=2023-09-15>2023-09-15</time></span><span class=post-included-in>&nbsp;收录于 <a href=/categories/c++/ class=post-category title="分类 - C++"><i class="fa-regular fa-folder fa-fw" aria-hidden=true></i> C++</a></span></div><div class=content>设计模式 创建型模式：单例模式，工厂方法模式，抽象工厂模式，建造者模式，原型模式</div><div class=post-footer><a href=/posts/c++/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/>阅读全文</a><div class=post-tags><i class="fa-solid fa-tags fa-fw me-1" aria-hidden=true></i><a href=/tags/c++/ class=post-tag>C++</a></div></div></article><article class="single summary" itemscope itemtype=http://schema.org/Article><h2 class=single-title itemprop="name headline"><a href=/posts/computer/linx%E7%B3%BB%E7%BB%9F%E7%BC%96%E7%A8%8B/>Linx系统编程</a></h2><div class=post-meta><span class=post-author><span class=author><i class="fa-solid fa-user-circle" aria-hidden=true></i>
fengchen</span></span>&nbsp;<span class=post-publish title='2023-08-20 13:33:12'>发布于 <time datetime=2023-08-20>2023-08-20</time></span><span class=post-included-in>&nbsp;收录于 <a href=/categories/computer/ class=post-category title="分类 - Computer"><i class="fa-regular fa-folder fa-fw" aria-hidden=true></i> Computer</a></span></div><div class=content>Linx系统编程 在 Linux 中，手册节号通常被分为以下 8 个部分：</div><div class=post-footer><a href=/posts/computer/linx%E7%B3%BB%E7%BB%9F%E7%BC%96%E7%A8%8B/>阅读全文</a><div class=post-tags><i class="fa-solid fa-tags fa-fw me-1" aria-hidden=true></i><a href=/tags/computer/ class=post-tag>Computer</a><a href=/tags/linux/ class=post-tag>Linux</a></div></div></article><ul class=pagination><li class=page-item><span class=page-link><a href=/>1</a></span></li><li class="page-item active"><span class=page-link><a href=/page/2/>2</a></span></li><li class=page-item><span class=page-link><a href=/page/3/>3</a></span></li><li class=page-item><span class=page-link><a href=/page/4/>4</a></span></li><li class=page-item><span class=page-link aria-hidden=true>&mldr;</span></li><li class=page-item><span class=page-link><a href=/page/10/>10</a></span></li></ul></div></main><footer class=footer><div class=footer-container><div class="footer-line powered">由 <a href=https://gohugo.io/ target=_blank rel="external nofollow noopener noreferrer" title="Hugo 0.139.0"><img class=hugo-icon src=/images/hugo.min.svg alt="Hugo logo"> Hugo</a> 强力驱动 | 主题 - <a href=https://github.com/hugo-fixit/FixIt target=_blank rel=external title="FixIt v0.3.15"><img class=fixit-icon src=/images/fixit.min.svg alt="FixIt logo"> FixIt</a></div><div class="footer-line copyright" itemscope itemtype=http://schema.org/CreativeWork><i class="fa-regular fa-copyright fa-fw" aria-hidden=true></i>
<span itemprop=copyrightYear>2024 - 2026</span><span class=author itemprop=copyrightHolder>
<a href=/>fengchen</a></span><span class="license footer-divider"><a rel="license external nofollow noopener noreferrer" href=https://creativecommons.org/licenses/by-nc/4.0/ target=_blank>CC BY-NC 4.0</a></span></div></div></footer></div><div class=widgets><div class="fixed-buttons animate__faster d-none"><div class="fixed-button back-to-top" role=button aria-label=回到顶部><i class="fa-solid fa-arrow-up fa-fw" aria-hidden=true></i><span class="variant-numeric d-none">0%</span></div></div><div id=mask></div><div class=reading-progress-bar style=left:0;top:0></div><noscript><div class=noscript-warning>该网站在启用 JavaScript 的情况下效果最佳。</div></noscript></div><link rel=preload href=/lib/katex/katex.min.css as=style onload='this.removeAttribute("onload"),this.rel="stylesheet"'><noscript><link rel=stylesheet href=/lib/katex/katex.min.css></noscript><link rel=stylesheet href=/lib/cookieconsent/cookieconsent.min.css><script src=/lib/autocomplete/autocomplete.min.js defer></script><script src=/lib/sharer/sharer.min.js async defer></script><script src=/lib/katex/katex.min.js defer></script><script src=/lib/katex/auto-render.min.js defer></script><script src=/lib/katex/copy-tex.min.js defer></script><script src=/lib/katex/mhchem.min.js defer></script><script src=/lib/cookieconsent/cookieconsent.min.js defer></script><script>window.config={code:{copyTitle:"复制到剪贴板",editLockTitle:"锁定可编辑代码块",editUnLockTitle:"解锁可编辑代码块",editable:!0,maxShownLines:10},cookieconsent:{content:{dismiss:"同意",link:"了解更多",message:"本网站使用 Cookies 来改善您的浏览体验。"},enable:!0,palette:{button:{background:"#f0f0f0"},popup:{background:"#1aa3ff"}},theme:"edgeless"},math:{delimiters:[{display:!0,left:"$$",right:"$$"},{display:!0,left:"\\[",right:"\\]"},{display:!0,left:"\\begin{equation}",right:"\\end{equation}"},{display:!0,left:"\\begin{equation*}",right:"\\end{equation*}"},{display:!0,left:"\\begin{align}",right:"\\end{align}"},{display:!0,left:"\\begin{align*}",right:"\\end{align*}"},{display:!0,left:"\\begin{alignat}",right:"\\end{alignat}"},{display:!0,left:"\\begin{alignat*}",right:"\\end{alignat*}"},{display:!0,left:"\\begin{gather}",right:"\\end{gather}"},{display:!0,left:"\\begin{CD}",right:"\\end{CD}"},{display:!1,left:"$",right:"$"},{display:!1,left:"\\(",right:"\\)"}],strict:!1},search:{highlightTag:"em",maxResultLength:10,noResultsFound:"没有找到结果",snippetLength:50},version:"v0.3.15"}</script><script src=/js/theme.min.js defer></script></body></html>