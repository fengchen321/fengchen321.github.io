<!doctype html><html itemscope itemtype=http://schema.org/WebPage lang=zh-CN><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=2"><meta name=robots content="noodp"><title>MPI åŸºç¡€çŸ¥è¯† - fengchen</title><meta name=author content="fengchen"><meta name=description content="å¹¶è¡Œç¼–ç¨‹"><meta name=keywords content='Computer,C++,C,Fortran'><meta itemprop=name content="MPI åŸºç¡€çŸ¥è¯†"><meta itemprop=description content="å¹¶è¡Œç¼–ç¨‹"><meta itemprop=datePublished content="2025-08-07T13:33:12+08:00"><meta itemprop=dateModified content="2025-08-07T13:33:12+08:00"><meta itemprop=wordCount content="2623"><meta itemprop=keywords content="Computer,C++,C,Fortran"><meta property="og:url" content="http://fengchen321.github.io/posts/computer/mpi-%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/"><meta property="og:site_name" content="fengchen"><meta property="og:title" content="MPI åŸºç¡€çŸ¥è¯†"><meta property="og:description" content="å¹¶è¡Œç¼–ç¨‹"><meta property="og:locale" content="zh_CN"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2025-08-07T13:33:12+08:00"><meta property="article:modified_time" content="2025-08-07T13:33:12+08:00"><meta property="article:tag" content="Computer"><meta property="article:tag" content="C++"><meta property="article:tag" content="C"><meta property="article:tag" content="Fortran"><meta name=twitter:card content="summary"><meta name=twitter:title content="MPI åŸºç¡€çŸ¥è¯†"><meta name=twitter:description content="å¹¶è¡Œç¼–ç¨‹"><meta name=application-name content="FixIt"><meta name=apple-mobile-web-app-title content="FixIt"><meta name=theme-color data-light=#f8f8f8 data-dark=#252627 content="#f8f8f8"><meta name=msapplication-TileColor content="#da532c"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><link rel=canonical type=text/html href=http://fengchen321.github.io/posts/computer/mpi-%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/ title="MPI åŸºç¡€çŸ¥è¯† - fengchen"><link rel=prev type=text/html href=http://fengchen321.github.io/posts/computer/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/ title=æ±‡ç¼–è¯­è¨€><link rel=next type=text/html href=http://fengchen321.github.io/posts/other/bookmarks/ title="ğŸ“š æˆ‘çš„ä¹¦ç­¾æ”¶è—"><link rel=alternate type=text/markdown href=http://fengchen321.github.io/posts/computer/mpi-%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/index.md title="MPI åŸºç¡€çŸ¥è¯† - fengchen"><link rel=stylesheet href=/css/style.min.css><link rel=preload href=/lib/fontawesome-free/all.min.css as=style onload='this.removeAttribute("onload"),this.rel="stylesheet"'><noscript><link rel=stylesheet href=/lib/fontawesome-free/all.min.css></noscript><link rel=preload href=/lib/animate/animate.min.css as=style onload='this.removeAttribute("onload"),this.rel="stylesheet"'><noscript><link rel=stylesheet href=/lib/animate/animate.min.css></noscript><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"MPI åŸºç¡€çŸ¥è¯†","inLanguage":"zh-CN","mainEntityOfPage":{"@type":"WebPage","@id":"http:\/\/fengchen321.github.io\/posts\/computer\/mpi-%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86\/"},"genre":"posts","keywords":"Computer, C\u002b\u002b, C, Fortran","wordcount":2623,"url":"http:\/\/fengchen321.github.io\/posts\/computer\/mpi-%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86\/","datePublished":"2025-08-07T13:33:12+08:00","dateModified":"2025-08-07T13:33:12+08:00","publisher":{"@type":"Organization","name":""},"author":{"@type":"Person","name":"fengchen"},"description":"å¹¶è¡Œç¼–ç¨‹"}</script><script src=/js/head/color-scheme.min.js></script></head><body data-header-desktop=sticky data-header-mobile=auto><div class=wrapper data-page-style=normal><header class="desktop animate__faster" id=header-desktop><div class=header-wrapper><div class=header-title><a href=/ title=fengchen><span class=header-title-text>fengchen</span></a><span class=header-subtitle></span></div><nav><ul class=menu><li class=menu-item><a class=menu-link href=/about/ title=å…³äºæœ¬ç«™>å…³äºæœ¬ç«™</a></li><li class=menu-item><a class=menu-link href=/posts/>æ‰€æœ‰æ–‡ç« </a></li><li class=menu-item><a class=menu-link href=/tags/>æ ‡ç­¾</a></li><li class=menu-item><a class=menu-link href=/categories/>åˆ†ç±»</a></li><li class="menu-item delimiter"></li><li class="menu-item search" id=search-desktop><input type=text placeholder=æœç´¢æ–‡ç« æ ‡é¢˜æˆ–å†…å®¹â€¦â€¦ id=search-input-desktop>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-desktop title=æœç´¢><i class="fa-solid fa-search fa-fw" aria-hidden=true></i>
</a><a href=javascript:void(0); class="search-button search-clear" id=search-clear-desktop title=æ¸…ç©º><i class="fa-solid fa-times-circle fa-fw" aria-hidden=true></i>
</a><span class="search-button search-loading" id=search-loading-desktop><i class="fa-solid fa-spinner fa-fw fa-spin" aria-hidden=true></i></span></li><li class="menu-item theme-switch" title=åˆ‡æ¢ä¸»é¢˜><i class="fa-solid fa-adjust fa-fw" aria-hidden=true></i></li></ul></nav></div></header><header class="mobile animate__faster" id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=/ title=fengchen><span class=header-title-text>fengchen</span></a><span class=header-subtitle></span></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><nav><ul class=menu id=menu-mobile><li class=search-wrapper><div class="search mobile" id=search-mobile><input type=text placeholder=æœç´¢æ–‡ç« æ ‡é¢˜æˆ–å†…å®¹â€¦â€¦ id=search-input-mobile>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-mobile title=æœç´¢><i class="fa-solid fa-search fa-fw" aria-hidden=true></i>
</a><a href=javascript:void(0); class="search-button search-clear" id=search-clear-mobile title=æ¸…ç©º><i class="fa-solid fa-times-circle fa-fw" aria-hidden=true></i>
</a><span class="search-button search-loading" id=search-loading-mobile><i class="fa-solid fa-spinner fa-fw fa-spin" aria-hidden=true></i></span></div><a href=javascript:void(0); class=search-cancel id=search-cancel-mobile>å–æ¶ˆ</a></li><li class=menu-item><a class=menu-link href=/about/ title=å…³äºæœ¬ç«™>å…³äºæœ¬ç«™</a></li><li class=menu-item><a class=menu-link href=/posts/>æ‰€æœ‰æ–‡ç« </a></li><li class=menu-item><a class=menu-link href=/tags/>æ ‡ç­¾</a></li><li class=menu-item><a class=menu-link href=/categories/>åˆ†ç±»</a></li><li class="menu-item menu-system"><span class="menu-system-item theme-switch" title=åˆ‡æ¢ä¸»é¢˜><i class="fa-solid fa-adjust fa-fw" aria-hidden=true></i></span></li></ul></nav></div></header><div class="search-dropdown desktop"><div id=search-dropdown-desktop></div></div><div class="search-dropdown mobile"><div id=search-dropdown-mobile></div></div><main class=container><aside class="aside-collection animate__animated animate__fadeIn animate__faster" aria-label=åˆé›†></aside><article class="page single"><div class=header><h1 class="single-title animate__animated animate__flipInX"><span>MPI åŸºç¡€çŸ¥è¯†</span></h1></div><div class=post-meta><div class=post-meta-line><span class=post-author><span class=author><i class="fa-solid fa-user-circle" aria-hidden=true></i>
fengchen</span></span><span class=post-included-in>&nbsp;æ”¶å½•äº <a href=/categories/computer/ class=post-category title="åˆ†ç±» - Computer"><i class="fa-regular fa-folder fa-fw" aria-hidden=true></i> Computer</a></span></div><div class=post-meta-line><span title="å‘å¸ƒäº 2025-08-07 13:33:12"><i class="fa-solid fa-calendar-days fa-fw me-1" aria-hidden=true></i><time datetime=2025-08-07>2025-08-07</time></span>&nbsp;<span title="2623 å­—"><i class="fa-solid fa-pencil-alt fa-fw me-1" aria-hidden=true></i>çº¦ 2700 å­—</span>&nbsp;<span><i class="fa-regular fa-clock fa-fw me-1" aria-hidden=true></i>é¢„è®¡é˜…è¯» 6 åˆ†é’Ÿ</span>&nbsp;</div></div><div class="details toc" id=toc-static data-kept=false><div class="details-summary toc-title"><span>ç›®å½•</span>
<span><i class="details-icon fa-solid fa-angle-right" aria-hidden=true></i></span></div><div class="details-content toc-content" id=toc-content-static><nav id=TableOfContents><ul><li><a href=#æ ¸å¿ƒæ¦‚å¿µ>æ ¸å¿ƒæ¦‚å¿µ</a></li><li><a href=#6ä¸ªåŸºæœ¬å‡½æ•°>6ä¸ªåŸºæœ¬å‡½æ•°</a></li><li><a href=#å…¶ä»–å‡½æ•°>å…¶ä»–å‡½æ•°</a></li><li><a href=#ç‚¹å¯¹ç‚¹é€šä¿¡-p2p-communication>ç‚¹å¯¹ç‚¹é€šä¿¡ (P2P Communication)</a></li><li><a href=#ç¾¤é›†é€šä¿¡collective-communication>ç¾¤é›†é€šä¿¡(Collective Communication)</a><ul><li><a href=#å¹¿æ’­mpi_bcast>å¹¿æ’­(MPI_Bcast)</a></li><li><a href=#æ”¶é›†mpi_gather>æ”¶é›†ï¼ˆMPI_Gather)</a></li><li><a href=#æ•£æ’­mpi_scatter>æ•£æ’­ï¼ˆMPI_Scatter)</a></li><li><a href=#å…¨å±€æ”¶é›†mpi_allgather>å…¨å±€æ”¶é›†(MPI_Allgather)</a></li><li><a href=#å…¨å±€äº¤æ¢mpi_alltoall>å…¨å±€äº¤æ¢(MPI_Alltoall)</a></li><li><a href=#å½’çº¦mpi_reduce>å½’çº¦(MPI_Reduce)</a></li><li><a href=#æ‰«æmpi_scan>æ‰«æ(MPI_Scan)</a></li><li><a href=#å±éšœmpi_barrier>å±éšœ(MPI_Barrier)</a></li></ul></li><li><a href=#mpi-tracerhttpsgithubcomonewayforevermpi-tracer><a href=https://github.com/onewayforever/mpi-tracer>mpi-tracer</a></a><ul><li><a href=#æºç åˆ†æ>æºç åˆ†æ</a></li></ul></li><li><a href=#å‚è€ƒé˜…è¯»>å‚è€ƒé˜…è¯»</a></li></ul></nav></div></div><div class=content id=content><h2 id=mpi-åŸºç¡€çŸ¥è¯† class=heading-element><span>MPI åŸºç¡€çŸ¥è¯†</span>
<a href=#mpi-%e5%9f%ba%e7%a1%80%e7%9f%a5%e8%af%86 class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h2><p>MPI (Message Passing Interface)</p><blockquote><p>C/C++: <code>mpi,h</code> -> <code>libmpi.so</code> ç¼–è¯‘ï¼š<code>mpicxx -o test_mpi_cpp test_mpi.cpp -lmpi</code></p><p>Fortran: <code>mpif.h</code>, æˆ–è€…ä½¿ç”¨æ¨¡æ¿mpi<code>use mpi</code> -> <code>libmpi_mpifh.so</code> ç¼–è¯‘ï¼š``mpifort test_mpi.F90 -o test_mpi_fortran`</p><p>è¿è¡Œ <code>mpirun -n 8 ./tests/mpi_tests/test_mpi_cpp</code></p></blockquote><h2 id=æ ¸å¿ƒæ¦‚å¿µ class=heading-element><span>æ ¸å¿ƒæ¦‚å¿µ</span>
<a href=#%e6%a0%b8%e5%bf%83%e6%a6%82%e5%bf%b5 class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h2><p><strong>æ¶ˆæ¯</strong>ï¼šæ•°æ®ï¼ˆæ•°ï¼Œæ•°ç»„ï¼Œå­—ç¬¦ç­‰ç­‰ï¼‰</p><p><strong>é€šä¿¡åŸŸ</strong>(communicating domain)ï¼šå®šä¹‰ä¸€ç»„èƒ½å¤Ÿäº’ç›¸å‘æ¶ˆæ¯çš„è¿›ç¨‹ï¼Œæ¯ä¸ªè¿›ç¨‹åˆ†é…ä¸€ä¸ªåºå·ï¼ˆrankï¼‰ï¼Œé€šä¿¡å¯ä»¥é€šè¿‡<code>rank</code>æˆ–è€…<code>æ¶ˆæ¯æ ‡ç­¾tag</code>æ¥è¿›è¡Œ</p><blockquote><p><code>MPI_COMM_WORLD</code>: æ‰€æœ‰è¿›ç¨‹çš„é›†åˆï¼Œæœ€å¤§é€šä¿¡åŸŸï¼›è¿›å…¥å¹¶è¡Œç¯å¢ƒæ—¶è‡ªåŠ¨åˆ›å»ºã€‚</p><p><code>MPI_COMM_SELF</code>ï¼šåªåŒ…å«ä½¿ç”¨å®ƒçš„è¿›ç¨‹</p></blockquote><p>å‡½æ•°æ ¼å¼ï¼š</p><blockquote><p>C/C++: <code>int MPI_Comm_size(MPI_Comm comm, int *size);</code></p><p>Fortran: <code>call MPI_Comm_size(comm, size, ieror)</code></p><p>C++: <code>int MPI::COMM::Get_size() const;</code></p></blockquote><h2 id=6ä¸ªåŸºæœ¬å‡½æ•° class=heading-element><span>6ä¸ªåŸºæœ¬å‡½æ•°</span>
<a href=#6%e4%b8%aa%e5%9f%ba%e6%9c%ac%e5%87%bd%e6%95%b0 class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h2><p><code>MPI_Init(ierr)</code>: åˆå§‹åŒ–å¹¶è¡Œç¯å¢ƒï¼Œé€šä¿¡åŸŸ<code>MPI_COMM_WORLD</code>å½¢æˆ</p><p><code>MPI_Finalize(ierr)</code>: é€€å‡ºå¹¶è¡Œç¯å¢ƒ</p><p><code>MPI_Comm_size(comm, size, ierr)</code>: è¿”å›è¿›ç¨‹æ•°size</p><p><code>MPI_Comm_rank(comm, rank, iree)</code>: è¿”å›è¿›ç¨‹ç¼–å·rankï¼Œ <code>0~size-1</code></p><p><code>MPI_Send(buf, count, datatype, dest, tag, comm, ierr)</code>: æ¶ˆæ¯å‘é€</p><p><code>MPI_Recv(buf, count, datatype, source, tag, comm, status, ierr)</code>: æ¶ˆæ¯æ¥æ”¶</p><blockquote><p>æ¶ˆæ¯ç¼“å†²ï¼ˆMessageBufferï¼‰ï¼šæ¶ˆæ¯èµ·å§‹åœ°å€ï¼ˆ<code>buf</code>ï¼‰ï¼Œæ•°æ®ä¸ªæ•°ï¼ˆ<code>count</code>ï¼‰ï¼Œ æ¶ˆæ¯ç±»å‹ï¼ˆ<code> datatype</code>ï¼‰ å®é™…é•¿åº¦= datatype * count</p><p>æ¶ˆæ¯ä¿¡å°ï¼ˆMessage Envelop)ï¼šæ¥æ”¶/å‘é€è¿›ç¨‹å·(<code>dest/source</code>)ï¼Œæ¶ˆæ¯æ ‡ç­¾ 0-32767ï¼ˆ<code>tag</code>ï¼‰ï¼Œé€šä¿¡åŸŸï¼ˆ<code>comm</code>ï¼‰</p><p><code>status</code>ï¼šæ¶ˆæ¯æ¥æ”¶çš„çŠ¶æ€</p></blockquote><h2 id=å…¶ä»–å‡½æ•° class=heading-element><span>å…¶ä»–å‡½æ•°</span>
<a href=#%e5%85%b6%e4%bb%96%e5%87%bd%e6%95%b0 class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h2><p><code>MPI_Abort(comm, errorcode, ireror)</code>: å‡ºç°ç‰¹æ®Šæƒ…å†µï¼Œéœ€è¦ä¸­é€”åœæ­¢MPI</p><p><code>MPI_Get_count(status, datatype, count, ierror)</code>: æ¥æ”¶æ•°æ®çš„æ•°é‡</p><p><code>MPI_Pack_size(incount, datatype, comm, size, ierror)</code>: ç¡®å®šè¦æ‰“åŒ…çš„æ•°æ®å ç”¨ç©ºé—´å¤§å°</p><p><code>MPI_Pack(inbuf, incount, datatype, outbuf, outsize, position, comm, ierror)</code>:å°†æ•°æ®æ‰“åŒ…ï¼Œç”±&lt;inbuf, incount, datatype>æŒ‡å®šçš„æ¶ˆæ¯åˆ°&lt;outbuf, outsize>æŒ‡å®šçš„ç©ºé—´</p><h2 id=ç‚¹å¯¹ç‚¹é€šä¿¡-p2p-communication class=heading-element><span>ç‚¹å¯¹ç‚¹é€šä¿¡ (P2P Communication)</span>
<a href=#%e7%82%b9%e5%af%b9%e7%82%b9%e9%80%9a%e4%bf%a1-p2p-communication class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h2><p>é€šä¿¡æ¨¡å¼</p><blockquote><p>åŒæ­¥å‘é€(Synchrounous Send)</p><p>ç¼“å†²å‘é€(Buffered Send)</p><p>æ ‡å‡†å‘é€(Standed Send)</p><p>å°±ç»ªå‘é€(Ready Send)</p></blockquote><blockquote><p>å‘é€ç±»åˆ«ï¼š4ç§é€šä¿¡æ¨¡å¼ * ï¼ˆé˜»å¡+ éé˜»å¡ï¼‰</p><p><code>MPI_Send(buf, count, datatype, dest, tag, comm, ierr)</code></p><p><code>MPI_Isend(buf, count, datatype, dest, tag, comm, request, ierror)</code>ï¼š æ ‡å‡†éé˜»å¡é€šä¿¡ requestï¼šé€šä¿¡è¯·æ±‚</p><p><code>MPI_Ssend(buf, count, datatype, dest, tag, comm, ierror)</code>: æ ‡å‡†åŒæ­¥å‘é€</p><p><code>MPI_Issend(buf, count, datatype, dest, tag, comm, request, ierror)</code></p><p><code>MPI_Bsend(buf, count, datatype, dest, tag, comm, ierror)</code>ï¼šå…·æœ‰ç”¨æˆ·æŒ‡å®šç¼“å†²çš„åŸºæœ¬å‘é€</p><p><code>MPI_Ibsend(buf, count, datatype, dest, tag, comm, request, ierror)</code></p><p><code>MPI_Rsend(buf, count, datatype, dest, tag, comm, ierror)</code></p><p><code>MPI_Irsend(buf, count, datatype, dest, tag, comm, request, ierror)</code></p><p>æ¥æ”¶ç±»åˆ«ï¼šé˜»å¡å’Œéé˜»å¡</p><p><code>MPI_Recv(buf, count, datatype, source, tag, comm, status, ierror)</code></p><p><code>MPI_Irecv(buf, count, datatype, source, tag, comm, request, ierror)</code></p></blockquote><h2 id=ç¾¤é›†é€šä¿¡collective-communication class=heading-element><span>ç¾¤é›†é€šä¿¡(Collective Communication)</span>
<a href=#%e7%be%a4%e9%9b%86%e9%80%9a%e4%bf%a1collective-communication class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h2><table><thead><tr><th><strong>ç±»å‹</strong></th><th><strong>å‡½æ•°å</strong></th><th><strong>å«ä¹‰</strong></th></tr></thead><tbody><tr><td>é€šä¿¡</td><td><span style=color:red><strong>MPI_Bcast</strong></span></td><td>ä¸€å¯¹å¤šå¹¿æ’­åŒæ ·çš„æ¶ˆæ¯</td></tr><tr><td></td><td><span style=color:red><strong>MPI_Gather</strong></span></td><td>å¤šå¯¹ä¸€æ”¶é›†å„è¿›ç¨‹ä¿¡æ¯</td></tr><tr><td></td><td><code>MPI_Gatherv</code></td><td>ä¸€èˆ¬åŒ–</td></tr><tr><td></td><td><span style=color:red><strong>MPI_Allgather</strong></span></td><td>å…¨å±€æ”¶é›†ï¼Œæ¯ä¸ªè¿›ç¨‹æ‰§è¡Œ Gather</td></tr><tr><td></td><td><code>MPI_Allgatherv</code></td><td>ä¸€èˆ¬åŒ–</td></tr><tr><td></td><td><span style=color:red><strong>MPI_Scatter</strong></span></td><td>ä¸€å¯¹å¤šæ•£æ’­ä¸åŒæ¶ˆæ¯</td></tr><tr><td></td><td><code>MPI_Scatterv</code></td><td>ä¸€èˆ¬åŒ–</td></tr><tr><td></td><td><span style=color:red><strong>MPI_Alltoall</strong></span></td><td>å¤šå¯¹å¤šå…¨å±€äº¤æ¢ï¼Œæ¯ä¸ªè¿›ç¨‹æ‰§è¡Œ Scatter</td></tr><tr><td></td><td><code>MPI_Alltoallv</code></td><td>ä¸€èˆ¬åŒ–</td></tr><tr><td>èšé›†</td><td><span style=color:red><strong>MPI_Reduce</strong></span></td><td>å¤šå¯¹ä¸€å½’çº¦</td></tr><tr><td></td><td><code>MPI_Allreduce</code></td><td>ä¸€èˆ¬åŒ–</td></tr><tr><td></td><td><code>MPI_Reduce_scatter</code></td><td>å½’çº¦å¹¶æ•£æ’­</td></tr><tr><td></td><td><span style=color:red><strong>MPI_Scan</strong></span></td><td>æ‰«æã€‚æ¯ä¸ªè¿›ç¨‹å¯¹è‡ªå·±å‰é¢çš„è¿›ç¨‹å½’çº¦</td></tr><tr><td>åŒæ­¥</td><td><span style=color:red><strong>MPI_Barrier</strong></span></td><td>è·¯éšœåŒæ­¥</td></tr></tbody></table><p><strong>å¤šå¯¹ä¸€</strong>å’Œ<strong>ä¸€å¯¹å¤š</strong>è¿˜éœ€è¦æŒ‡æ˜rootè¿›ç¨‹ï¼Œ<strong>å¤šå¯¹å¤š</strong>åªéœ€è¦æŒ‡æ˜é€šä¿¡åŸŸã€‚</p><h3 id=å¹¿æ’­mpi_bcast class=heading-element><span>å¹¿æ’­(MPI_Bcast)</span>
<a href=#%e5%b9%bf%e6%92%admpi_bcast class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><p><code>MPI_Bcast(buffer, count, datatype, root, comm, ierror)</code></p><p>ä¸€å¯¹å¤šï¼Œæ¶ˆæ¯ç›¸åŒã€‚æœ‰ä¸€ä¸ªrootè¿›ç¨‹ï¼Œç”±å®ƒå‘æ‰€æœ‰è¿›ç¨‹å‘é€æ¶ˆæ¯ã€‚ å¯¹äºrootæœ¬èº«ï¼Œç¼“å†²åŒºå³æ˜¯å‘é€ç¼“å†²åˆæ˜¯æ¥æ”¶ç¼“å†²ã€‚</p><pre class=mermaid>sequenceDiagram
    participant P0 as P0 (Root)
    participant P1 as P1
    participant P2 as P2
    participant P3 as P3

    P0->>P1: MPI_Bcast(A)
    P0->>P2: MPI_Bcast(A)
    P0->>P3: MPI_Bcast(A)
    Note right of P0: æ‰€æœ‰è¿›ç¨‹æ”¶åˆ°ç›¸åŒæ•°æ®</pre><template>sequenceDiagram
participant P0 as P0 (Root)
participant P1 as P1
participant P2 as P2
participant P3 as P3
P0->>P1: MPI_Bcast(A)
P0->>P2: MPI_Bcast(A)
P0->>P3: MPI_Bcast(A)
Note right of P0: æ‰€æœ‰è¿›ç¨‹æ”¶åˆ°ç›¸åŒæ•°æ®</template><h3 id=æ”¶é›†mpi_gather class=heading-element><span>æ”¶é›†ï¼ˆMPI_Gather)</span>
<a href=#%e6%94%b6%e9%9b%86mpi_gather class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><p><code>MPI_Gather(sendbuf, sendcount, sendtype, recvbuf, recvcount, recvtype, root, comm, ierror)</code></p><p>å¤šå¯¹ä¸€ï¼Œæ¶ˆæ¯ç›¸åŒã€‚æœ‰ä¸€ä¸ªrootè¿›ç¨‹ç”¨æ¥æ¥æ”¶ï¼Œå…¶ä»–(åŒ…å«root)å‘é€ã€‚ è¿™nä¸ªæ¶ˆæ¯æŒ‰è¿›ç¨‹çš„æ ‡å·è¿›è¡Œæ‹¼æ¥ã€‚æ‰€æœ‰érootè¿›ç¨‹å¿½ç•¥æ¥æ”¶ç¼“å†²ã€‚</p><pre class=mermaid>sequenceDiagram
    participant P0 as P0 (Root)
    participant P1 as P1
    participant P2 as P2
    participant P3 as P3

    Note over P1,P3: å„è¿›ç¨‹æŒæœ‰ä¸åŒæ•°æ®
    P1->>P0: MPI_Gather(A)
    P2->>P0: MPI_Gather(B)
    P3->>P0: MPI_Gather(C)
    Note over P0: æ”¶é›†ç»“æœ: [A,B,C]</pre><template>sequenceDiagram
participant P0 as P0 (Root)
participant P1 as P1
participant P2 as P2
participant P3 as P3
Note over P1,P3: å„è¿›ç¨‹æŒæœ‰ä¸åŒæ•°æ®
P1->>P0: MPI_Gather(A)
P2->>P0: MPI_Gather(B)
P3->>P0: MPI_Gather(C)
Note over P0: æ”¶é›†ç»“æœ: [A,B,C]</template><h3 id=æ•£æ’­mpi_scatter class=heading-element><span>æ•£æ’­ï¼ˆMPI_Scatter)</span>
<a href=#%e6%95%a3%e6%92%admpi_scatter class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><p><code>MPI_Scatter(sendbuf, sendcount, sendtype, recvbuf, recvcount, recvtype, root, comm, ierror)</code></p><p>ä¸€å¯¹å¤šï¼Œæ¶ˆæ¯ä¸åŒï¼Œé¡ºåºå­˜å‚¨ã€‚æœ‰ä¸€ä¸ªrootè¿›ç¨‹ï¼Œå°†å‘é€ç¼“å†²ä¸­çš„æ•°æ®æŒ‰è¿›ç¨‹ç¼–å·ï¼Œæœ‰åºçš„å‘é€ã€‚érootè¿›ç¨‹å¿½ç•¥å‘é€ç¼“å†²</p><pre class=mermaid>sequenceDiagram
    participant P0 as P0 (Root)
    participant P1 as P1
    participant P2 as P2
    participant P3 as P3

    Note over P0: åˆå§‹æ•°æ®: [A,B,C,D]
    P0->>P1: MPI_Scatter(A)
    P0->>P2: MPI_Scatter(B)
    P0->>P3: MPI_Scatter(C)
    Note left of P0: æœ€åä¸€ä¸ªå…ƒç´ Dé€šå¸¸ç•™åœ¨P0
    Note right of P1: å„è¿›ç¨‹è·å¾—ä¸åŒæ•°æ®</pre><template>sequenceDiagram
participant P0 as P0 (Root)
participant P1 as P1
participant P2 as P2
participant P3 as P3
Note over P0: åˆå§‹æ•°æ®: [A,B,C,D]
P0->>P1: MPI_Scatter(A)
P0->>P2: MPI_Scatter(B)
P0->>P3: MPI_Scatter(C)
Note left of P0: æœ€åä¸€ä¸ªå…ƒç´ Dé€šå¸¸ç•™åœ¨P0
Note right of P1: å„è¿›ç¨‹è·å¾—ä¸åŒæ•°æ®</template><h3 id=å…¨å±€æ”¶é›†mpi_allgather class=heading-element><span>å…¨å±€æ”¶é›†(MPI_Allgather)</span>
<a href=#%e5%85%a8%e5%b1%80%e6%94%b6%e9%9b%86mpi_allgather class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><p><code>MPI_Allgather(sendbuf, sendcount, sendtype, recvbuf, recvcount, recvtype, comm, ierror)</code></p><p>ç›¸å½“äºæ¯ä¸ªè¿›ç¨‹éƒ½ä½œä¸ºrootè¿›ç¨‹æ‰§è¡Œäº†ä¸€æ¬¡Gatheræ“ä½œã€‚</p><pre class=mermaid>flowchart LR
    subgraph åˆå§‹æ•°æ®
        P0((P0:A))
        P1((P1:B))
        P2((P2:C))
        P3((P3:D))
    end

    subgraph Allgatherç»“æœ
        P0r[P0:A,B,C,D]
        P1r[P1:A,B,C,D]
        P2r[P2:A,B,C,D]
        P3r[P3:A,B,C,D]
    end

    åˆå§‹æ•°æ® -->|MPI_Allgather| Allgatherç»“æœ</pre><template>flowchart LR
subgraph åˆå§‹æ•°æ®
P0((P0:A))
P1((P1:B))
P2((P2:C))
P3((P3:D))
end
subgraph Allgatherç»“æœ
P0r[P0:A,B,C,D]
P1r[P1:A,B,C,D]
P2r[P2:A,B,C,D]
P3r[P3:A,B,C,D]
end
åˆå§‹æ•°æ® -->|MPI_Allgather| Allgatherç»“æœ</template><h3 id=å…¨å±€äº¤æ¢mpi_alltoall class=heading-element><span>å…¨å±€äº¤æ¢(MPI_Alltoall)</span>
<a href=#%e5%85%a8%e5%b1%80%e4%ba%a4%e6%8d%a2mpi_alltoall class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><p><code>MPI_Alltoall(sendbuf, sendcount, sendtype, recvbuf, recvcount, recvtype, comm, ierror)</code></p><p>ç›¸å½“äºæ¯ä¸ªè¿›ç¨‹ä½œä¸ºrootè¿›ç¨‹æ‰§è¡Œäº†ä¸€æ¬¡Scatteræ“ä½œã€‚</p><pre class=mermaid>flowchart LR
    %% åˆå§‹æ•°æ®
    subgraph åˆå§‹æ•°æ®
        P0["P0: [A0,A1,A2,A3]"]
        P1["P1: [B0,B1,B2,B3]"]
        P2["P2: [C0,C1,C2,C3]"]
        P3["P3: [D0,D1,D2,D3]"]
    end

    %% é€šä¿¡è§„åˆ™ï¼ˆç®€åŒ–ä¸ºå…³é”®è·¯å¾„ï¼‰
    P0 -->|A1| P1
    P0 -->|A2| P2
    P0 -->|A3| P3
    P1 -->|B0| P0
    P2 -->|C0| P0
    P3 -->|D0| P0

    %% æœ€ç»ˆç»“æœï¼ˆçªå‡ºæ˜¾ç¤ºï¼‰
    subgraph äº¤æ¢ç»“æœ
        P0_Result["P0: [A0,B0,C0,D0]"]
        P1_Result["P1: [A1,B1,C1,D1]"]
        P2_Result["P2: [A2,B2,C2,D2]"]
        P3_Result["P3: [A3,B3,C3,D3]"]
    end

    %% è¿æ¥çº¿
    åˆå§‹æ•°æ® --> äº¤æ¢ç»“æœ
    style P0_Result fill:#e3f2fd,stroke:#2196f3
    style P1_Result fill:#e8f5e9,stroke:#4caf50</pre><template>flowchart LR
%% åˆå§‹æ•°æ®
subgraph åˆå§‹æ•°æ®
P0["P0: [A0,A1,A2,A3]"]
P1["P1: [B0,B1,B2,B3]"]
P2["P2: [C0,C1,C2,C3]"]
P3["P3: [D0,D1,D2,D3]"]
end
%% é€šä¿¡è§„åˆ™ï¼ˆç®€åŒ–ä¸ºå…³é”®è·¯å¾„ï¼‰
P0 -->|A1| P1
P0 -->|A2| P2
P0 -->|A3| P3
P1 -->|B0| P0
P2 -->|C0| P0
P3 -->|D0| P0
%% æœ€ç»ˆç»“æœï¼ˆçªå‡ºæ˜¾ç¤ºï¼‰
subgraph äº¤æ¢ç»“æœ
P0_Result["P0: [A0,B0,C0,D0]"]
P1_Result["P1: [A1,B1,C1,D1]"]
P2_Result["P2: [A2,B2,C2,D2]"]
P3_Result["P3: [A3,B3,C3,D3]"]
end
%% è¿æ¥çº¿
åˆå§‹æ•°æ® --> äº¤æ¢ç»“æœ
style P0_Result fill:#e3f2fd,stroke:#2196f3
style P1_Result fill:#e8f5e9,stroke:#4caf50</template><h3 id=å½’çº¦mpi_reduce class=heading-element><span>å½’çº¦(MPI_Reduce)</span>
<a href=#%e5%bd%92%e7%ba%a6mpi_reduce class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><p><code>MPI_Reduce(sendbuf, recvbuf, count, datatype, op, root, comm, ierror)</code></p><p>å¤šå¯¹ä¸€ï¼Œä¸”å®Œæˆè®¡ç®—ã€‚æ¯ä¸ªè¿›ç¨‹å°†å‘é€ç¼“å†²åŒºä¸­æ•°æ®å‘åˆ°rootè¿› ç¨‹ï¼Œrootå®ŒæˆæŒ‡å®šçš„æ“ä½œï¼Œå¹¶å°†ç»“æœæ”¾åˆ°æ¥æ”¶ç¼“å†²ã€‚</p><pre class=mermaid>flowchart TD
    %% åˆå§‹æ•°æ®
    subgraph åˆå§‹æ•°æ®
        P0["P0: A"]
        P1["P1: B"]
        P2["P2: C"]
        P3["P3: D"]
    end

    %% å½’çº¦æ“ä½œï¼ˆä»¥æ±‚å’Œä¸ºä¾‹ï¼‰
    subgraph å½’çº¦è¿‡ç¨‹
        P0 -->|A| Root
        P1 -->|B| Root
        P2 -->|C| Root
        P3 -->|D| Root
        Root["MPI_Reduce(OP=SUM)"] --> ç»“æœ
    end

    %% æœ€ç»ˆç»“æœ
    ç»“æœ["Rootè¿›ç¨‹ç»“æœ: A+B+C+D"]

    %% æ ·å¼
    style Root fill:#ffebee,stroke:#f44336
    style ç»“æœ fill:#e8f5e9,stroke:#4caf50</pre><template>flowchart TD
%% åˆå§‹æ•°æ®
subgraph åˆå§‹æ•°æ®
P0["P0: A"]
P1["P1: B"]
P2["P2: C"]
P3["P3: D"]
end
%% å½’çº¦æ“ä½œï¼ˆä»¥æ±‚å’Œä¸ºä¾‹ï¼‰
subgraph å½’çº¦è¿‡ç¨‹
P0 -->|A| Root
P1 -->|B| Root
P2 -->|C| Root
P3 -->|D| Root
Root["MPI_Reduce(OP=SUM)"] --> ç»“æœ
end
%% æœ€ç»ˆç»“æœ
ç»“æœ["Rootè¿›ç¨‹ç»“æœ: A+B+C+D"]
%% æ ·å¼
style Root fill:#ffebee,stroke:#f44336
style ç»“æœ fill:#e8f5e9,stroke:#4caf50</template><h3 id=æ‰«æmpi_scan class=heading-element><span>æ‰«æ(MPI_Scan)</span>
<a href=#%e6%89%ab%e6%8f%8fmpi_scan class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><p><code>MPI_Scan(*sendbuf*, *recvbuf*, *count*, *datatype*, *op*, *comm*, *ierror*)</code></p><p>å¤šå¯¹å¤šã€‚ä¸€ç§ç‰¹æ®Šçš„Reduceï¼šæ¯ä¸€ä¸ªè¿›ç¨‹å¤šä½œä¸ºrootå¯¹æ’åœ¨ä»–å‰é¢çš„è¿›ç¨‹æ‰§è¡Œå½’çº¦æ“ä½œã€‚(ç±»æ¯”å‰ç¼€å’Œ)</p><pre class=mermaid>flowchart LR
    %% åˆå§‹æ•°æ®
    subgraph åˆå§‹æ•°æ®
        P0["P0: A"]
        P1["P1: B"]
        P2["P2: C"]
        P3["P3: D"]
    end

    %% æ‰«æè¿‡ç¨‹ï¼ˆä»¥ç´¯åŠ ä¸ºä¾‹ï¼‰
    subgraph å‰ç¼€æ‰«æ
        direction TB
        P0 -->|A| Scan0["P0ç»“æœ: A"]
        P0 -->|A| P1
        P1 -->|A+B| Scan1["P1ç»“æœ: A+B"]
        P1 -->|A+B| P2
        P2 -->|A+B+C| Scan2["P2ç»“æœ: A+B+C"]
        P2 -->|A+B+C| P3
        P3 -->|A+B+C+D| Scan3["P3ç»“æœ: A+B+C+D"]
    end

    %% æ ·å¼
    style Scan0 fill:#e1f5fe,stroke:#039be5
    style Scan3 fill:#e8f5e9,stroke:#4caf50</pre><template>flowchart LR
%% åˆå§‹æ•°æ®
subgraph åˆå§‹æ•°æ®
P0["P0: A"]
P1["P1: B"]
P2["P2: C"]
P3["P3: D"]
end
%% æ‰«æè¿‡ç¨‹ï¼ˆä»¥ç´¯åŠ ä¸ºä¾‹ï¼‰
subgraph å‰ç¼€æ‰«æ
direction TB
P0 -->|A| Scan0["P0ç»“æœ: A"]
P0 -->|A| P1
P1 -->|A+B| Scan1["P1ç»“æœ: A+B"]
P1 -->|A+B| P2
P2 -->|A+B+C| Scan2["P2ç»“æœ: A+B+C"]
P2 -->|A+B+C| P3
P3 -->|A+B+C+D| Scan3["P3ç»“æœ: A+B+C+D"]
end
%% æ ·å¼
style Scan0 fill:#e1f5fe,stroke:#039be5
style Scan3 fill:#e8f5e9,stroke:#4caf50</template><h3 id=å±éšœmpi_barrier class=heading-element><span>å±éšœ(MPI_Barrier)</span>
<a href=#%e5%b1%8f%e9%9a%9cmpi_barrier class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><p><code>MPI_Barrier(comm, ierror)</code></p><h2 id=mpi-tracerhttpsgithubcomonewayforevermpi-tracer class=heading-element><span><a href=https://github.com/onewayforever/mpi-tracer target=_blank rel="external nofollow noopener noreferrer">mpi-tracer</a></span>
<a href=#mpi-tracerhttpsgithubcomonewayforevermpi-tracer class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h2><h3 id=æºç åˆ†æ class=heading-element><span>æºç åˆ†æ</span>
<a href=#%e6%ba%90%e7%a0%81%e5%88%86%e6%9e%90 class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><h2 id=å‚è€ƒé˜…è¯» class=heading-element><span>å‚è€ƒé˜…è¯»</span>
<a href=#%e5%8f%82%e8%80%83%e9%98%85%e8%af%bb class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h2><p><a href=https://mpitutorial.com/ target=_blank rel="external nofollow noopener noreferrer">MPI Tutorial</a></p><p><a href=https://www.open-mpi.org/doc/v4.1/ target=_blank rel="external nofollow noopener noreferrer">Open MPI documentation</a></p><p><a href=https://zhuanlan.zhihu.com/p/590277732 target=_blank rel="external nofollow noopener noreferrer">MPI ä¸å¹¶è¡Œè®¡ç®—å…¥é—¨ - çŸ¥ä¹</a></p><p><a href=http://fcode.cn/download/fcode/MPI_C,C++,Fortran_Bind.pdf target=_blank rel="external nofollow noopener noreferrer">MPI_C,C++,Fortran_Bind.pdf</a></p></div><div class=post-footer id=post-footer><div class=post-info><div class=post-info-line><div class=post-info-mod><span title="æ›´æ–°äº 2025-08-07 13:33:12">æ›´æ–°äº 2025-08-07&nbsp;</span></div><div class=post-info-license><span><a rel="license external nofollow noopener noreferrer" href=https://creativecommons.org/licenses/by-nc/4.0/ target=_blank>CC BY-NC 4.0</a></span></div></div><div class=post-info-line><div class=post-info-md></div><div class=post-info-share><span><a href=javascript:void(0); title="åˆ†äº«åˆ° X" data-sharer=twitter data-url=http://fengchen321.github.io/posts/computer/mpi-%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/ data-title="MPI åŸºç¡€çŸ¥è¯†" data-hashtags=Computer,C++,C,Fortran><i class="fa-brands fa-x-twitter fa-fw" aria-hidden=true></i></a>
<a href=javascript:void(0); title="åˆ†äº«åˆ° Facebook" data-sharer=facebook data-url=http://fengchen321.github.io/posts/computer/mpi-%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/ data-hashtag=Computer><i class="fa-brands fa-facebook-square fa-fw" aria-hidden=true></i></a>
<a href=javascript:void(0); title="åˆ†äº«åˆ° å¾®åš" data-sharer=weibo data-url=http://fengchen321.github.io/posts/computer/mpi-%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/ data-title="MPI åŸºç¡€çŸ¥è¯†"><i class="fa-brands fa-weibo fa-fw" aria-hidden=true></i></a></span></div></div></div><div class=post-info-more><section class=post-tags><i class="fa-solid fa-tags fa-fw me-1" aria-hidden=true></i><a href=/tags/computer/ class=post-tag title="æ ‡ç­¾ - Computer">Computer</a><a href=/tags/c++/ class=post-tag title="æ ‡ç­¾ - C++">C++</a><a href=/tags/c/ class=post-tag title="æ ‡ç­¾ - C">C</a><a href=/tags/fortran/ class=post-tag title="æ ‡ç­¾ - Fortran">Fortran</a></section><section><span><a href=javascript:void(0); onclick=window.history.back()>è¿”å›</a></span>&nbsp;|&nbsp;<span><a href=/>ä¸»é¡µ</a></span></section></div><div class=post-nav><a href=/posts/computer/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/ class=post-nav-item rel=prev title=æ±‡ç¼–è¯­è¨€><i class="fa-solid fa-angle-left fa-fw" aria-hidden=true></i>æ±‡ç¼–è¯­è¨€</a><a href=/posts/other/bookmarks/ class=post-nav-item rel=next title="ğŸ“š æˆ‘çš„ä¹¦ç­¾æ”¶è—">ğŸ“š æˆ‘çš„ä¹¦ç­¾æ”¶è—<i class="fa-solid fa-angle-right fa-fw" aria-hidden=true></i></a></div></div></article><aside class=toc id=toc-auto aria-label=ç›®å½•><h2 class=toc-title>ç›®å½•&nbsp;<i class="toc-icon fa-solid fa-angle-down fa-fw" aria-hidden=true></i></h2><div class="toc-content always-active" id=toc-content-auto></div></aside></main><footer class=footer><div class=footer-container><div class="footer-line powered">ç”± <a href=https://gohugo.io/ target=_blank rel="external nofollow noopener noreferrer" title="Hugo 0.139.0"><img class=hugo-icon src=/images/hugo.min.svg alt="Hugo logo"> Hugo</a> å¼ºåŠ›é©±åŠ¨ | ä¸»é¢˜ - <a href=https://github.com/hugo-fixit/FixIt target=_blank rel=external title="FixIt v0.3.15"><img class=fixit-icon src=/images/fixit.min.svg alt="FixIt logo"> FixIt</a></div><div class="footer-line copyright" itemscope itemtype=http://schema.org/CreativeWork><i class="fa-regular fa-copyright fa-fw" aria-hidden=true></i>
<span itemprop=copyrightYear>2024 - 2025</span><span class=author itemprop=copyrightHolder>
<a href=/>fengchen</a></span><span class="license footer-divider"><a rel="license external nofollow noopener noreferrer" href=https://creativecommons.org/licenses/by-nc/4.0/ target=_blank>CC BY-NC 4.0</a></span></div></div></footer></div><div class=widgets><div class="fixed-buttons animate__faster d-none"><div class="fixed-button back-to-top" role=button aria-label=å›åˆ°é¡¶éƒ¨><i class="fa-solid fa-arrow-up fa-fw" aria-hidden=true></i><span class="variant-numeric d-none">0%</span></div></div><div id=mask></div><div class=reading-progress-bar style=left:0;top:0></div><noscript><div class=noscript-warning>è¯¥ç½‘ç«™åœ¨å¯ç”¨ JavaScript çš„æƒ…å†µä¸‹æ•ˆæœæœ€ä½³ã€‚</div></noscript></div><script type=module>
    import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@11.3.0/dist/mermaid.esm.min.mjs';
    
    
    
    window.mermaid = mermaid;
  </script><link rel=preload href=/lib/katex/katex.min.css as=style onload='this.removeAttribute("onload"),this.rel="stylesheet"'><noscript><link rel=stylesheet href=/lib/katex/katex.min.css></noscript><link rel=stylesheet href=/lib/cookieconsent/cookieconsent.min.css><script src=/lib/autocomplete/autocomplete.min.js defer></script><script src=/lib/sharer/sharer.min.js async defer></script><script src=/lib/katex/katex.min.js defer></script><script src=/lib/katex/auto-render.min.js defer></script><script src=/lib/katex/copy-tex.min.js defer></script><script src=/lib/katex/mhchem.min.js defer></script><script src=/lib/cookieconsent/cookieconsent.min.js defer></script><script>window.config={code:{copyTitle:"å¤åˆ¶åˆ°å‰ªè´´æ¿",editLockTitle:"é”å®šå¯ç¼–è¾‘ä»£ç å—",editUnLockTitle:"è§£é”å¯ç¼–è¾‘ä»£ç å—",editable:!0,maxShownLines:100},comment:{enable:!1},cookieconsent:{content:{dismiss:"åŒæ„",link:"äº†è§£æ›´å¤š",message:"æœ¬ç½‘ç«™ä½¿ç”¨ Cookies æ¥æ”¹å–„æ‚¨çš„æµè§ˆä½“éªŒã€‚"},enable:!0,palette:{button:{background:"#f0f0f0"},popup:{background:"#1aa3ff"}},theme:"edgeless"},math:{delimiters:[{display:!0,left:"$$",right:"$$"},{display:!0,left:"\\[",right:"\\]"},{display:!0,left:"\\begin{equation}",right:"\\end{equation}"},{display:!0,left:"\\begin{equation*}",right:"\\end{equation*}"},{display:!0,left:"\\begin{align}",right:"\\end{align}"},{display:!0,left:"\\begin{align*}",right:"\\end{align*}"},{display:!0,left:"\\begin{alignat}",right:"\\end{alignat}"},{display:!0,left:"\\begin{alignat*}",right:"\\end{alignat*}"},{display:!0,left:"\\begin{gather}",right:"\\end{gather}"},{display:!0,left:"\\begin{CD}",right:"\\end{CD}"},{display:!1,left:"$",right:"$"},{display:!1,left:"\\(",right:"\\)"}],strict:!1},mermaid:{themes:["default","dark"]},search:{highlightTag:"em",maxResultLength:10,noResultsFound:"æ²¡æœ‰æ‰¾åˆ°ç»“æœ",snippetLength:50},version:"v0.3.15"}</script><script src=/js/theme.min.js defer></script></body></html>