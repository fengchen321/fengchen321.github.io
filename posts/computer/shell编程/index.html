<!doctype html><html itemscope itemtype=http://schema.org/WebPage lang=zh-CN><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=2"><meta name=robots content="noodp"><title>Shell编程 - fengchen</title><meta name=author content="fengchen"><meta name=description content="Shell编程"><meta name=keywords content='Computer,Linux'><meta itemprop=name content="Shell编程"><meta itemprop=description content="Shell编程"><meta itemprop=datePublished content="2023-06-17T13:33:12+08:00"><meta itemprop=dateModified content="2023-06-17T13:33:12+08:00"><meta itemprop=wordCount content="8250"><meta itemprop=keywords content="Computer,Linux"><meta property="og:url" content="http://fengchen321.github.io/posts/computer/shell%E7%BC%96%E7%A8%8B/"><meta property="og:site_name" content="fengchen"><meta property="og:title" content="Shell编程"><meta property="og:description" content="Shell编程"><meta property="og:locale" content="zh_CN"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-06-17T13:33:12+08:00"><meta property="article:modified_time" content="2023-06-17T13:33:12+08:00"><meta property="article:tag" content="Computer"><meta property="article:tag" content="Linux"><meta name=twitter:card content="summary"><meta name=twitter:title content="Shell编程"><meta name=twitter:description content="Shell编程"><meta name=application-name content="FixIt"><meta name=apple-mobile-web-app-title content="FixIt"><meta name=theme-color data-light=#f8f8f8 data-dark=#252627 content="#f8f8f8"><meta name=msapplication-TileColor content="#da532c"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><link rel=canonical type=text/html href=http://fengchen321.github.io/posts/computer/shell%E7%BC%96%E7%A8%8B/ title="Shell编程 - fengchen"><link rel=prev type=text/html href=http://fengchen321.github.io/posts/computer/tmux%E6%95%99%E7%A8%8B/ title=tmux教程><link rel=next type=text/html href=http://fengchen321.github.io/posts/computer/gdb%E8%B0%83%E8%AF%95%E6%95%99%E7%A8%8B/ title=GDB调试><link rel=alternate type=text/markdown href=http://fengchen321.github.io/posts/computer/shell%E7%BC%96%E7%A8%8B/index.md title="Shell编程 - fengchen"><link rel=stylesheet href=/css/style.min.css><link rel=preload href=/lib/fontawesome-free/all.min.css as=style onload='this.removeAttribute("onload"),this.rel="stylesheet"'><noscript><link rel=stylesheet href=/lib/fontawesome-free/all.min.css></noscript><link rel=preload href=/lib/animate/animate.min.css as=style onload='this.removeAttribute("onload"),this.rel="stylesheet"'><noscript><link rel=stylesheet href=/lib/animate/animate.min.css></noscript><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"Shell编程","inLanguage":"zh-CN","mainEntityOfPage":{"@type":"WebPage","@id":"http:\/\/fengchen321.github.io\/posts\/computer\/shell%E7%BC%96%E7%A8%8B\/"},"genre":"posts","keywords":"Computer, Linux","wordcount":8250,"url":"http:\/\/fengchen321.github.io\/posts\/computer\/shell%E7%BC%96%E7%A8%8B\/","datePublished":"2023-06-17T13:33:12+08:00","dateModified":"2023-06-17T13:33:12+08:00","publisher":{"@type":"Organization","name":""},"author":{"@type":"Person","name":"fengchen"},"description":"Shell编程"}</script><script src=/js/head/color-scheme.min.js></script></head><body data-header-desktop=sticky data-header-mobile=auto><div class=wrapper data-page-style=normal><header class="desktop animate__faster" id=header-desktop><div class=header-wrapper><div class=header-title><a href=/ title=fengchen><span class=header-title-text>fengchen</span></a><span class=header-subtitle></span></div><nav><ul class=menu><li class=menu-item><a class=menu-link href=/about/ title=关于本站>关于本站</a></li><li class=menu-item><a class=menu-link href=/posts/>所有文章</a></li><li class=menu-item><a class=menu-link href=/tags/>标签</a></li><li class=menu-item><a class=menu-link href=/categories/>分类</a></li><li class="menu-item delimiter"></li><li class="menu-item search" id=search-desktop><input type=text placeholder=搜索文章标题或内容…… id=search-input-desktop>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-desktop title=搜索><i class="fa-solid fa-search fa-fw" aria-hidden=true></i>
</a><a href=javascript:void(0); class="search-button search-clear" id=search-clear-desktop title=清空><i class="fa-solid fa-times-circle fa-fw" aria-hidden=true></i>
</a><span class="search-button search-loading" id=search-loading-desktop><i class="fa-solid fa-spinner fa-fw fa-spin" aria-hidden=true></i></span></li><li class="menu-item theme-switch" title=切换主题><i class="fa-solid fa-adjust fa-fw" aria-hidden=true></i></li></ul></nav></div></header><header class="mobile animate__faster" id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=/ title=fengchen><span class=header-title-text>fengchen</span></a><span class=header-subtitle></span></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><nav><ul class=menu id=menu-mobile><li class=search-wrapper><div class="search mobile" id=search-mobile><input type=text placeholder=搜索文章标题或内容…… id=search-input-mobile>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-mobile title=搜索><i class="fa-solid fa-search fa-fw" aria-hidden=true></i>
</a><a href=javascript:void(0); class="search-button search-clear" id=search-clear-mobile title=清空><i class="fa-solid fa-times-circle fa-fw" aria-hidden=true></i>
</a><span class="search-button search-loading" id=search-loading-mobile><i class="fa-solid fa-spinner fa-fw fa-spin" aria-hidden=true></i></span></div><a href=javascript:void(0); class=search-cancel id=search-cancel-mobile>取消</a></li><li class=menu-item><a class=menu-link href=/about/ title=关于本站>关于本站</a></li><li class=menu-item><a class=menu-link href=/posts/>所有文章</a></li><li class=menu-item><a class=menu-link href=/tags/>标签</a></li><li class=menu-item><a class=menu-link href=/categories/>分类</a></li><li class="menu-item menu-system"><span class="menu-system-item theme-switch" title=切换主题><i class="fa-solid fa-adjust fa-fw" aria-hidden=true></i></span></li></ul></nav></div></header><div class="search-dropdown desktop"><div id=search-dropdown-desktop></div></div><div class="search-dropdown mobile"><div id=search-dropdown-mobile></div></div><main class=container><aside class="aside-collection animate__animated animate__fadeIn animate__faster" aria-label=合集></aside><article class="page single"><div class=header><h1 class="single-title animate__animated animate__flipInX"><span>Shell编程</span></h1></div><div class=post-meta><div class=post-meta-line><span class=post-author><span class=author><i class="fa-solid fa-user-circle" aria-hidden=true></i>
fengchen</span></span><span class=post-included-in>&nbsp;收录于 <a href=/categories/computer/ class=post-category title="分类 - Computer"><i class="fa-regular fa-folder fa-fw" aria-hidden=true></i> Computer</a></span></div><div class=post-meta-line><span title="发布于 2023-06-17 13:33:12"><i class="fa-solid fa-calendar-days fa-fw me-1" aria-hidden=true></i><time datetime=2023-06-17>2023-06-17</time></span>&nbsp;<span title="8250 字"><i class="fa-solid fa-pencil-alt fa-fw me-1" aria-hidden=true></i>约 8300 字</span>&nbsp;<span><i class="fa-regular fa-clock fa-fw me-1" aria-hidden=true></i>预计阅读 17 分钟</span>&nbsp;</div></div><div class="details toc" id=toc-static data-kept=false><div class="details-summary toc-title"><span>目录</span>
<span><i class="details-icon fa-solid fa-angle-right" aria-hidden=true></i></span></div><div class="details-content toc-content" id=toc-content-static><nav id=TableOfContents><ul><li><a href=#概论>概论</a></li><li><a href=#注释>注释</a></li><li><a href=#变量>变量</a><ul><li><a href=#定义变量><strong>定义变量</strong></a></li><li><a href=#使用变量><strong>使用变量</strong></a></li><li><a href=#只读变量><strong>只读变量</strong></a></li><li><a href=#删除变量><strong>删除变量</strong></a></li><li><a href=#变量类型><strong>变量类型</strong></a></li><li><a href=#字符串><strong>字符串</strong></a></li><li><a href=#默认变量>默认变量</a></li><li><a href=#数组>数组</a></li></ul></li><li><a href=#expr-命令>expr 命令</a><ul><li><a href=#字符串表达式>字符串表达式</a></li><li><a href=#整数表达式>整数表达式</a></li><li><a href=#逻辑关系表达式>逻辑关系表达式</a></li></ul></li><li><a href=#read命令>read命令</a></li><li><a href=#echo命令>echo命令</a></li><li><a href=#printf-命令>printf 命令</a></li><li><a href=#test命令>test命令</a></li><li><a href=#判断语句>判断语句</a><ul><li><a href=#单层if>单层if</a></li><li><a href=#单层if-else>单层if-else</a></li><li><a href=#多层if-elif-elif-else>多层if-elif-elif-else</a></li><li><a href=#caseesac形式>case…esac形式</a></li></ul></li><li><a href=#循环语句>循环语句</a><ul><li><a href=#forindodone>for…in…do…done</a></li><li><a href=#for--dodone>for ((…;…;…)) do…done</a></li><li><a href=#whiledodone循环>while…do…done循环</a></li><li><a href=#untildodone循环>until…do…done循环</a></li><li><a href=#break命令>break命令</a></li><li><a href=#continue命令>continue命令</a></li><li><a href=#死循环的处理方式>死循环的处理方式</a></li></ul></li><li><a href=#函数>函数</a></li><li><a href=#exit命令>exit命令</a></li><li><a href=#文件重定向>文件重定向</a></li><li><a href=#引入外部脚本>引入外部脚本</a></li><li><a href=#文本处理三剑客>文本处理三剑客</a><ul><li><a href=#grep>grep</a></li><li><a href=#sed>sed</a></li><li><a href=#awkhttpswwwgnuorgsoftwaregawkmanualgawkhtml><a href=https://www.gnu.org/software/gawk/manual/gawk.html>awk</a></a></li></ul></li></ul></nav></div></div><div class=content id=content><h2 id=shell编程 class=heading-element><span>Shell编程</span>
<a href=#shell%e7%bc%96%e7%a8%8b class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h2><h2 id=概论 class=heading-element><span>概论</span>
<a href=#%e6%a6%82%e8%ae%ba class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h2><p>shell是通过命令行与操作系统沟通的语言。</p><p>Linux中常见的shell脚本有很多种，常见的有：</p><blockquote><p><strong>Bourne Shell</strong> (<code>/usr/bin/sh</code>或<code>/bin/sh</code>)</p><p><strong>Bourne Again Shell</strong> (<code>/bin/bash</code>)</p><p><strong>C Shell</strong> (<code>/usr/bin/csh</code>)</p><p><strong>K Shell</strong> (<code>/usr/bin/ksh</code>)</p><p><strong>zsh</strong>
…</p></blockquote><p>Linux系统中一般默认使用<strong>bash</strong>，文件开头需要写<code>#! /bin/bash</code>，指明bash为脚本解释器。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=cp>#! /bin/bash
</span></span></span><span class=line><span class=cl><span class=cp></span><span class=nb>echo</span> Hello World  <span class=c1># echo类似于C++的字符串</span></span></span></code></pre></td></tr></table></div></div><p><strong>运行方式</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 作为可执行文件运行</span>
</span></span><span class=line><span class=cl>chmod +x test.sh  <span class=c1># 增加执行权限  可执行文件为绿色</span>
</span></span><span class=line><span class=cl>./test.sh         <span class=c1># 当前路径下执行</span>
</span></span><span class=line><span class=cl>/home/acs/test.sh <span class=c1># 绝对路径下执行</span>
</span></span><span class=line><span class=cl>~/test.sh         <span class=c1># 家目录路径下执行</span>
</span></span><span class=line><span class=cl><span class=c1># 解释器执行</span>
</span></span><span class=line><span class=cl>bash test.sh
</span></span><span class=line><span class=cl>nohup bash test.sh <span class=c1># 后台运行</span></span></span></code></pre></td></tr></table></div></div><h2 id=注释 class=heading-element><span>注释</span>
<a href=#%e6%b3%a8%e9%87%8a class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h2><p><strong>单行注释</strong>：<code>#</code></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 这是一行注释</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> Hello World</span></span></code></pre></td></tr></table></div></div><p><strong>多行注释：</strong><code> :&lt;&lt;string string</code></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>:<span class=s>&lt;&lt;EOF
</span></span></span><span class=line><span class=cl><span class=s>注释1
</span></span></span><span class=line><span class=cl><span class=s>注释2
</span></span></span><span class=line><span class=cl><span class=s>注释3
</span></span></span><span class=line><span class=cl><span class=s>EOF</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># EOF可以替换成其它任意字符串</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>:<span class=s>&lt;&lt;abc
</span></span></span><span class=line><span class=cl><span class=s>注释4
</span></span></span><span class=line><span class=cl><span class=s>注释5
</span></span></span><span class=line><span class=cl><span class=s>注释6
</span></span></span><span class=line><span class=cl><span class=s>abc</span></span></span></code></pre></td></tr></table></div></div><h2 id=变量 class=heading-element><span>变量</span>
<a href=#%e5%8f%98%e9%87%8f class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h2><h3 id=定义变量 class=heading-element><span><strong>定义变量</strong></span>
<a href=#%e5%ae%9a%e4%b9%89%e5%8f%98%e9%87%8f class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><blockquote><p>不需要加<code>$</code>符号，等号两边不能有空格</p></blockquote><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nv>name1</span><span class=o>=</span><span class=s1>&#39;abc&#39;</span>  <span class=c1># 单引号定义字符串</span>
</span></span><span class=line><span class=cl><span class=nv>name2</span><span class=o>=</span><span class=s2>&#34;abc&#34;</span>  <span class=c1># 双引号定义字符串</span>
</span></span><span class=line><span class=cl><span class=nv>name3</span><span class=o>=</span>abc    <span class=c1># 也可以不加引号，同样表示字符串</span></span></span></code></pre></td></tr></table></div></div><h3 id=使用变量 class=heading-element><span><strong>使用变量</strong></span>
<a href=#%e4%bd%bf%e7%94%a8%e5%8f%98%e9%87%8f class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><blockquote><p>需要加上<code>$</code>符号，或者<code>${}</code>符号。花括号是可选的，主要为了帮助解释器识别变量边界。</p></blockquote><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nv>name</span><span class=o>=</span>abc
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=nv>$name</span>  <span class=c1># 输出abc</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=si>${</span><span class=nv>name</span><span class=si>}</span>  <span class=c1># 输出abc</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=si>${</span><span class=nv>name</span><span class=si>}</span>acwing  <span class=c1># 输出abcacwing,等价于echo &#34;${name}acwing&#34;</span></span></span></code></pre></td></tr></table></div></div><h3 id=只读变量 class=heading-element><span><strong>只读变量</strong></span>
<a href=#%e5%8f%aa%e8%af%bb%e5%8f%98%e9%87%8f class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><blockquote><p>使用<code>readonly</code>或者<code>declare</code>将变量变为只读</p></blockquote><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nv>name</span><span class=o>=</span>abc
</span></span><span class=line><span class=cl><span class=nb>readonly</span> name
</span></span><span class=line><span class=cl><span class=nb>declare</span> -r name  <span class=c1># 两种写法均可</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nv>name</span><span class=o>=</span>abc  <span class=c1># 会报错，因为此时name只读</span></span></span></code></pre></td></tr></table></div></div><p>type+命令可以解释该命令的来源（内嵌命令。第三方命令等）</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nb>type</span> <span class=nb>readonly</span> <span class=c1>#readonly is a shell builtin(shell内部命令)</span></span></span></code></pre></td></tr></table></div></div><h3 id=删除变量 class=heading-element><span><strong>删除变量</strong></span>
<a href=#%e5%88%a0%e9%99%a4%e5%8f%98%e9%87%8f class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><blockquote><p><code>unset</code>删除变量</p></blockquote><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nv>name</span><span class=o>=</span>abc
</span></span><span class=line><span class=cl><span class=nb>unset</span> name
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=nv>$name</span>  <span class=c1># 输出空行</span></span></span></code></pre></td></tr></table></div></div><h3 id=变量类型 class=heading-element><span><strong>变量类型</strong></span>
<a href=#%e5%8f%98%e9%87%8f%e7%b1%bb%e5%9e%8b class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><ol><li><p>自定义变量（局部变量），子进程不能访问的变量</p></li><li><p>环境变量（全局变量），子进程可以访问的变量</p></li></ol><p>自定义变量改成环境变量：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nv>name</span><span class=o>=</span>abc <span class=c1># 定义变量</span>
</span></span><span class=line><span class=cl><span class=nb>export</span> name      <span class=c1># 第一种方法</span>
</span></span><span class=line><span class=cl><span class=nb>declare</span> -x name  <span class=c1># 第二种方法</span></span></span></code></pre></td></tr></table></div></div><p>环境变量改为自定义变量：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nb>export</span> <span class=nv>name</span><span class=o>=</span>abc  <span class=c1># 定义环境变量</span>
</span></span><span class=line><span class=cl><span class=nb>declare</span> +x name  <span class=c1># 改为自定义变量</span></span></span></code></pre></td></tr></table></div></div><h3 id=字符串 class=heading-element><span><strong>字符串</strong></span>
<a href=#%e5%ad%97%e7%ac%a6%e4%b8%b2 class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><blockquote><p>单引号与双引号的区别：</p><ol><li>单引号中的内容会原样输出，不会执行、不会取变量；</li><li>双引号中的内容可以执行、可以取变量；</li></ol></blockquote><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nv>name</span><span class=o>=</span>abc  <span class=c1># 不用引号</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s1>&#39;hello, $name \&#34;hh\&#34;&#39;</span>  <span class=c1># 单引号字符串，输出 hello, $name \&#34;hh\&#34;</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s2>&#34;hello, </span><span class=nv>$name</span><span class=s2> \&#34;hh\&#34;&#34;</span>  <span class=c1># 双引号字符串，输出 hello, abc &#34;hh&#34;</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=si>${#</span><span class=nv>name</span><span class=si>}</span>  <span class=c1># 获取字符串长度,输出3</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=si>${</span><span class=nv>name</span><span class=p>:</span><span class=nv>0</span><span class=p>:</span><span class=nv>5</span><span class=si>}</span>  <span class=c1># 提取子串,提取从0开始的5个字符</span></span></span></code></pre></td></tr></table></div></div><h3 id=默认变量 class=heading-element><span>默认变量</span>
<a href=#%e9%bb%98%e8%ae%a4%e5%8f%98%e9%87%8f class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><p><strong>文件参数变量</strong></p><blockquote><p>在执行shell脚本时，可以向脚本传递参数。<code>$1</code>是第一个参数，<code>$2</code>是第二个参数，以此类推。特殊的,<code>$0</code>是文件名（包含路径）</p><p>传递参数，超过用大括号，如<code>${10}</code></p></blockquote><p><strong>其它参数相关变量</strong></p><table><thead><tr><th style=text-align:center>参数</th><th style=text-align:center>说明</th></tr></thead><tbody><tr><td style=text-align:center>$#</td><td style=text-align:center>代表文件传入的参数个数，如上例值为4</td></tr><tr><td style=text-align:center>$*</td><td style=text-align:center>由所有参数构成的用空格隔开的字符串，如上例值为"$1 $2 $3 $4"</td></tr><tr><td style=text-align:center>$@</td><td style=text-align:center>每个参数分别用双引号括起来的字符串，如上例中值为"$1" &ldquo;$2&rdquo; &ldquo;$3&rdquo; &ldquo;$4&rdquo;</td></tr><tr><td style=text-align:center>$$</td><td style=text-align:center>脚本当前运行的进程ID</td></tr><tr><td style=text-align:center>$?</td><td style=text-align:center>上一条命令的退出状态（注意不是stdout，而是exit code）。0表示正常退出，其他值表示错误</td></tr><tr><td style=text-align:center>$(command)</td><td style=text-align:center>返回command这条命令的stdout（可嵌套） <strong>获取退出状态</strong></td></tr><tr><td style=text-align:center>command</td><td style=text-align:center>返回command这条命令的stdout（不可嵌套）<strong>获取输出</strong></td></tr></tbody></table><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=cp>#! /bin/bash
</span></span></span><span class=line><span class=cl><span class=cp></span><span class=nb>echo</span> <span class=s2>&#34;文件名：&#34;</span><span class=nv>$0</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s2>&#34;第一个参数：&#34;</span><span class=nv>$1</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s2>&#34;第二个参数：&#34;</span><span class=nv>$2</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s2>&#34;第三个参数：&#34;</span><span class=nv>$3</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s2>&#34;第四个参数：&#34;</span><span class=nv>$4</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=nv>$#</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=nv>$*</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=nv>$@</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=nv>$$</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=nv>$?</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=k>$(</span>ls<span class=k>)</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=sb>`</span>ls<span class=sb>`</span>
</span></span><span class=line><span class=cl><span class=c1># 执行</span>
</span></span><span class=line><span class=cl>./test.sh <span class=m>1</span> <span class=m>2</span> <span class=m>3</span> <span class=m>4</span>
</span></span><span class=line><span class=cl>    文件名：./test.sh
</span></span><span class=line><span class=cl>    第一个参数：1
</span></span><span class=line><span class=cl>    第二个参数：2
</span></span><span class=line><span class=cl>    第三个参数：3
</span></span><span class=line><span class=cl>    第四个参数：4
</span></span><span class=line><span class=cl>    <span class=m>4</span>
</span></span><span class=line><span class=cl>    <span class=m>1</span> <span class=m>2</span> <span class=m>3</span> <span class=m>4</span>
</span></span><span class=line><span class=cl>    <span class=m>1</span> <span class=m>2</span> <span class=m>3</span> <span class=m>4</span>
</span></span><span class=line><span class=cl>    <span class=m>1313</span>
</span></span><span class=line><span class=cl>    <span class=m>0</span>
</span></span><span class=line><span class=cl>    test.sh
</span></span><span class=line><span class=cl>    test.sh</span></span></code></pre></td></tr></table></div></div><h3 id=数组 class=heading-element><span>数组</span>
<a href=#%e6%95%b0%e7%bb%84 class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><blockquote><p>数组中可以存放多个不同类型的值，只支持一维数组，初始化时不需要指明数组大小。
数组下标从0开始。</p></blockquote><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 定义数组用小括号表示，元素之间用空格隔开。</span>
</span></span><span class=line><span class=cl><span class=nv>array</span><span class=o>=(</span><span class=m>1</span> abc <span class=s2>&#34;def&#34;</span> abc<span class=o>)</span>
</span></span><span class=line><span class=cl>array<span class=o>[</span>0<span class=o>]=</span><span class=m>1</span>
</span></span><span class=line><span class=cl>array<span class=o>[</span>1<span class=o>]=</span>abc
</span></span><span class=line><span class=cl>array<span class=o>[</span>2<span class=o>]=</span><span class=s2>&#34;def&#34;</span>
</span></span><span class=line><span class=cl>array<span class=o>[</span>3<span class=o>]=</span>abc
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 读取数组中某个元素的值</span>
</span></span><span class=line><span class=cl><span class=si>${</span><span class=nv>array</span><span class=p>[index]</span><span class=si>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nv>array</span><span class=o>=(</span><span class=m>1</span> abc <span class=s2>&#34;def&#34;</span> yxc<span class=o>)</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=si>${</span><span class=nv>array</span><span class=p>[0]</span><span class=si>}</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=si>${</span><span class=nv>array</span><span class=p>[1]</span><span class=si>}</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=si>${</span><span class=nv>array</span><span class=p>[2]</span><span class=si>}</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=si>${</span><span class=nv>array</span><span class=p>[3]</span><span class=si>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 读取整个数组</span>
</span></span><span class=line><span class=cl><span class=si>${</span><span class=nv>array</span><span class=p>[@]</span><span class=si>}</span>  <span class=c1># 第一种写法</span>
</span></span><span class=line><span class=cl><span class=si>${</span><span class=nv>array</span><span class=p>[*]</span><span class=si>}</span>  <span class=c1># 第二种写法</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nv>array</span><span class=o>=(</span><span class=m>1</span> abc <span class=s2>&#34;def&#34;</span> abc<span class=o>)</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=si>${</span><span class=nv>array</span><span class=p>[@]</span><span class=si>}</span>  <span class=c1># 第一种写法</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=si>${</span><span class=nv>array</span><span class=p>[*]</span><span class=si>}</span>  <span class=c1># 第二种写法</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 数组长度,类似于字符串</span>
</span></span><span class=line><span class=cl><span class=si>${#</span><span class=nv>array</span><span class=p>[@]</span><span class=si>}</span>  <span class=c1># 第一种写法</span>
</span></span><span class=line><span class=cl><span class=si>${#</span><span class=nv>array</span><span class=p>[*]</span><span class=si>}</span>  <span class=c1># 第二种写法</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nv>array</span><span class=o>=(</span><span class=m>1</span> abc <span class=s2>&#34;def&#34;</span> abc<span class=o>)</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=si>${#</span><span class=nv>array</span><span class=p>[@]</span><span class=si>}</span>  <span class=c1># 第一种写法</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=si>${#</span><span class=nv>array</span><span class=p>[*]</span><span class=si>}</span>  <span class=c1># 第二种写法</span></span></span></code></pre></td></tr></table></div></div><h2 id=expr-命令 class=heading-element><span>expr 命令</span>
<a href=#expr-%e5%91%bd%e4%bb%a4 class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h2><p>expr 命令用于求表达式的值，格式为：<code>expr 表达式</code></p><blockquote><p>用空格隔开每一项</p><p>用反斜杠放在shell特定的字符前面（发现表达式运行错误时，可以试试转义）</p><p>对包含空格和其他特殊字符的字符串要用引号括起来</p><p>expr会在stdout中输出结果。如果为逻辑关系表达式，则结果为真时，stdout输出1，否则输出0。</p><p>expr的exit code：如果为逻辑关系表达式，则结果为真时，exit code为0，否则为1。</p></blockquote><h3 id=字符串表达式 class=heading-element><span>字符串表达式</span>
<a href=#%e5%ad%97%e7%ac%a6%e4%b8%b2%e8%a1%a8%e8%be%be%e5%bc%8f class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><p><code>length string</code>：返回string的长度</p><p><code>index string charset</code></p><blockquote><p>charset中任意单个字符在string 中最前面的字符位置，下标从1开始。如果在string 中完全不存在charset中的字符，则返回0。</p></blockquote><p><code>substr string postion length</code></p><blockquote><p>返回STRING字符串中从postion 开始，长度最大为length的子串。如果postion 或length为负数，0或非数值，则返回空字符串。</p></blockquote><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nv>str</span><span class=o>=</span><span class=s2>&#34;Hello World!&#34;</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=sb>`</span>expr length <span class=nv>$str</span><span class=sb>`</span>  <span class=c1>#等价于echo `expr length Hello World!`；中间有空格，length只船一个参数，一般加双引号字符串传入 syntax error:unexpecter argument &#39;World!&#39;.</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=sb>`</span>expr length <span class=s2>&#34;</span><span class=nv>$str</span><span class=s2>&#34;</span><span class=sb>`</span>  <span class=c1># ``不是单引号，表示执行该命令，输出12</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=sb>`</span>expr index <span class=s2>&#34;</span><span class=nv>$str</span><span class=s2>&#34;</span> aWd<span class=sb>`</span>  <span class=c1># 输出7，下标从1开始</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=sb>`</span>expr substr <span class=s2>&#34;</span><span class=nv>$str</span><span class=s2>&#34;</span> <span class=m>2</span> 3<span class=sb>`</span>  <span class=c1># 输出 ell</span></span></span></code></pre></td></tr></table></div></div><h3 id=整数表达式 class=heading-element><span>整数表达式</span>
<a href=#%e6%95%b4%e6%95%b0%e8%a1%a8%e8%be%be%e5%bc%8f class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><p>expr支持普通的算术操作，算术表达式优先级低于字符串表达式，高于逻辑关系表达式。</p><ul><li>+-：加减运算。两端参数会转换为整数，如果转换失败则报错。</li><li>/ %：乘，除，取模运算。两端参数会转换为整数，如果转换失败则报错。</li><li>() 可以改变优先级，但需要用反斜杠转义</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nv>a</span><span class=o>=</span><span class=m>3</span>
</span></span><span class=line><span class=cl><span class=nv>b</span><span class=o>=</span><span class=m>4</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=sb>`</span>expr <span class=nv>$a</span> + <span class=nv>$b</span><span class=sb>`</span>  <span class=c1># 输出7</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=sb>`</span>expr <span class=nv>$a</span> - <span class=nv>$b</span><span class=sb>`</span>  <span class=c1># 输出-1</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=sb>`</span>expr <span class=nv>$a</span> <span class=se>\*</span> <span class=nv>$b</span><span class=sb>`</span>  <span class=c1># 输出12，*需要转义</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=sb>`</span>expr <span class=nv>$a</span> / <span class=nv>$b</span><span class=sb>`</span>  <span class=c1># 输出0，整除</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=sb>`</span>expr <span class=nv>$a</span> % <span class=nv>$b</span><span class=sb>`</span> <span class=c1># 输出3</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=sb>`</span>expr <span class=se>\(</span> <span class=nv>$a</span> + <span class=m>1</span> <span class=se>\)</span> <span class=se>\*</span> <span class=se>\(</span> <span class=nv>$b</span> + <span class=m>1</span> <span class=se>\)</span><span class=sb>`</span>  <span class=c1># 输出20，值为(a + 1) * (b + 1)</span></span></span></code></pre></td></tr></table></div></div><h3 id=逻辑关系表达式 class=heading-element><span>逻辑关系表达式</span>
<a href=#%e9%80%bb%e8%be%91%e5%85%b3%e7%b3%bb%e8%a1%a8%e8%be%be%e5%bc%8f class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><ul><li><p><code>|</code>
如果第一个参数非空且非0，则返回第一个参数的值，否则返回第二个参数的值，但要求第二个参数的值也是非空或非0，否则返回0。如果第一个参数是非空或非0时，不会计算第二个参数。</p></li><li><p><code>&</code>
如果两个参数都非空且非0，则返回第一个参数，否则返回0。如果第一个参为0或为空，则不会计算第二个参数。</p></li><li><p><code>&lt; &lt;= = == != >= ></code>
比较两端的参数，如果为true，则返回1，否则返回0。”==”是”=”的同义词。”expr”首先尝试将两端参数转换为整数，并做算术比较，如果转换失败，则按字符集排序规则做字符比较。</p></li><li><p>() 可以改变优先级，但需要用反斜杠转义</p></li><li><p><code>&&</code> 表示与，<code>||</code> 表示或</p><blockquote><p>二者具有短路原则：</p><p><code>expr1 && expr2</code>：当expr1为假时，直接忽略expr2</p><p><code>expr1 || expr2</code>：当expr1为真时，直接忽略expr2</p><p>表达式的exit code为0，表示真；为非零，表示假。（与C/C++中的定义相反）</p></blockquote></li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nv>a</span><span class=o>=</span><span class=m>3</span>
</span></span><span class=line><span class=cl><span class=nv>b</span><span class=o>=</span><span class=m>4</span>
</span></span><span class=line><span class=cl><span class=c1># 除了转义字符还可直接加单引号</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=sb>`</span>expr <span class=nv>$a</span> <span class=se>\&gt;</span> <span class=nv>$b</span><span class=sb>`</span>  <span class=c1># 输出0，&gt;需要转义</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=sb>`</span>expr <span class=nv>$a</span> <span class=s1>&#39;&lt;&#39;</span> <span class=nv>$b</span><span class=sb>`</span>  <span class=c1># 输出1，也可以将特殊字符用引号引起来</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=sb>`</span>expr <span class=nv>$a</span> <span class=s1>&#39;&gt;=&#39;</span> <span class=nv>$b</span><span class=sb>`</span>  <span class=c1># 输出0</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=sb>`</span>expr <span class=nv>$a</span> <span class=se>\&lt;\=</span> <span class=nv>$b</span><span class=sb>`</span>  <span class=c1># 输出1</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nv>c</span><span class=o>=</span><span class=m>0</span>
</span></span><span class=line><span class=cl><span class=nv>d</span><span class=o>=</span><span class=m>5</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=sb>`</span>expr <span class=nv>$c</span> <span class=se>\&amp;</span> <span class=nv>$d</span><span class=sb>`</span>  <span class=c1># 输出0</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=sb>`</span>expr <span class=nv>$a</span> <span class=se>\&amp;</span> <span class=nv>$b</span><span class=sb>`</span>  <span class=c1># 输出3</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=sb>`</span>expr <span class=nv>$c</span> <span class=se>\|</span> <span class=nv>$d</span><span class=sb>`</span>  <span class=c1># 输出5</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=sb>`</span>expr <span class=nv>$a</span> <span class=se>\|</span> <span class=nv>$b</span><span class=sb>`</span>  <span class=c1># 输出3</span></span></span></code></pre></td></tr></table></div></div><h2 id=read命令 class=heading-element><span>read命令</span>
<a href=#read%e5%91%bd%e4%bb%a4 class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h2><p>read命令用于从标准输入中读取单行数据。当读到文件结束符时，exit code为1，否则为0。</p><blockquote><p>-p: 后面可以接提示信息</p><p>-t：后面跟秒数，定义输入字符的等待时间，超过等待时间后会自动忽略此命令</p></blockquote><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>acs@9e0ebfcd82d7:~$ <span class=nb>read</span> name  <span class=c1># 读入name的值</span>
</span></span><span class=line><span class=cl>acwing yxc  <span class=c1># 标准输入</span>
</span></span><span class=line><span class=cl>acs@9e0ebfcd82d7:~$ <span class=nb>echo</span> <span class=nv>$name</span>  <span class=c1># 输出name的值</span>
</span></span><span class=line><span class=cl>acwing yxc  <span class=c1>#标准输出</span>
</span></span><span class=line><span class=cl>acs@9e0ebfcd82d7:~$ <span class=nb>read</span> -p <span class=s2>&#34;Please input your name: &#34;</span> -t <span class=m>30</span> name  <span class=c1># 读入name的值，等待时间30秒</span>
</span></span><span class=line><span class=cl>Please input your name: acwing yxc  <span class=c1># 标准输入</span>
</span></span><span class=line><span class=cl>acs@9e0ebfcd82d7:~$ <span class=nb>echo</span> <span class=nv>$name</span>  <span class=c1># 输出name的值</span>
</span></span><span class=line><span class=cl>acwing yxc  <span class=c1># 标准输出</span></span></span></code></pre></td></tr></table></div></div><h2 id=echo命令 class=heading-element><span>echo命令</span>
<a href=#echo%e5%91%bd%e4%bb%a4 class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h2><p>echo用于输出字符串。命令格式：<code>echo string</code></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 显示普通字符串</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s2>&#34;Hello AC Terminal&#34;</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> Hello AC Terminal  <span class=c1># 引号可以省略</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 显示转义字符</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s2>&#34;\&#34;Hello AC Terminal\&#34;&#34;</span>  <span class=c1># 注意只能使用双引号，如果使用单引号，则不转义</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=se>\&#34;</span>Hello AC Terminal<span class=se>\&#34;</span>  <span class=c1># 也可以省略双引号</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 显示变量</span>
</span></span><span class=line><span class=cl><span class=nv>name</span><span class=o>=</span>abc
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s2>&#34;My name is </span><span class=nv>$name</span><span class=s2>&#34;</span>  <span class=c1># 输出 My name is abc</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 显示换行</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> -e <span class=s2>&#34;Hi\n&#34;</span>  <span class=c1># -e 开启转义</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s2>&#34;acwing&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 显示不换行</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> -e <span class=s2>&#34;Hi \c&#34;</span> <span class=c1># -e 开启转义 \c 不换行</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s2>&#34;acwing&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 显示结果定向至文件</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s2>&#34;Hello World&#34;</span> &gt; output.txt  <span class=c1># 将内容以覆盖的方式输出到output.txt中</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 原样输出字符串，不进行转义或取变量(用单引号)</span>
</span></span><span class=line><span class=cl><span class=nv>name</span><span class=o>=</span>acwing
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s1>&#39;$name\&#34;&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 显示命令的执行结果</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=sb>`</span>date<span class=sb>`</span> <span class=c1># Thu Apr 6 15:30:20 CST 2023</span></span></span></code></pre></td></tr></table></div></div><h2 id=printf-命令 class=heading-element><span>printf 命令</span>
<a href=#printf-%e5%91%bd%e4%bb%a4 class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h2><p>printf命令用于格式化输出，类似于C/C++中的printf函数。默认不会在字符串末尾添加换行符。</p><p>命令格式：<code>printf format-string [arguments...]</code></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nb>printf</span> <span class=s2>&#34;%10d.\n&#34;</span> <span class=m>123</span>  <span class=c1># 占10位，右对齐    </span>
</span></span><span class=line><span class=cl><span class=nb>printf</span> <span class=s2>&#34;%-10.2f.\n&#34;</span> 123.123321  <span class=c1># 占10位，保留2位小数，左对齐 </span>
</span></span><span class=line><span class=cl><span class=nb>printf</span> <span class=s2>&#34;My name is %s\n&#34;</span> <span class=s2>&#34;abc&#34;</span>  <span class=c1># 格式化输出字符串 </span>
</span></span><span class=line><span class=cl><span class=nb>printf</span> <span class=s2>&#34;%d * %d = %d\n&#34;</span>  <span class=m>2</span> <span class=m>3</span> <span class=sb>`</span>expr <span class=m>2</span> <span class=se>\*</span> 3<span class=sb>`</span> <span class=c1># 表达式的值作为参数</span>
</span></span><span class=line><span class=cl><span class=c1># 输出结果</span>
</span></span><span class=line><span class=cl>      123.
</span></span><span class=line><span class=cl>123.12   . 
</span></span><span class=line><span class=cl>My name is abc
</span></span><span class=line><span class=cl><span class=m>2</span> * <span class=nv>3</span> <span class=o>=</span> <span class=m>6</span></span></span></code></pre></td></tr></table></div></div><h2 id=test命令 class=heading-element><span>test命令</span>
<a href=#test%e5%91%bd%e4%bb%a4 class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h2><p>在命令行中输入<code>man test</code>，可以查看test命令的用法。</p><p><code>test</code>命令用于判断文件类型，以及对变量做比较。</p><p><code>test</code>命令用<code>exit code</code>返回结果，而不是使用stdout。0表示真，非0表示假。</p><table><thead><tr><th style=text-align:center>expr</th><th style=text-align:center>stdout输出</th><th style=text-align:center>1表示真，0表示假。</th></tr></thead><tbody><tr><td style=text-align:center>test</td><td style=text-align:center>exit code退出状态</td><td style=text-align:center>0表示真，非0表示假。</td></tr></tbody></table><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>acs@a1d78bab476e:~learn$ <span class=nb>test</span> <span class=m>2</span> -lt <span class=m>3</span>
</span></span><span class=line><span class=cl>acs@a1d78bab476e:~learn$ <span class=nb>echo</span> <span class=nv>$?</span>
</span></span><span class=line><span class=cl><span class=m>0</span>
</span></span><span class=line><span class=cl>acs@a1d78bab476e:~learn$ ls  <span class=c1># 列出当前目录下的所有文件</span>
</span></span><span class=line><span class=cl>output.txt  test.sh 
</span></span><span class=line><span class=cl><span class=c1># 使用&amp;&amp; ||实现if判断</span>
</span></span><span class=line><span class=cl>acs@a1d78bab476e:~learn$ <span class=nb>test</span> -e test.sh <span class=o>&amp;&amp;</span> <span class=nb>echo</span> <span class=s2>&#34;exist&#34;</span> <span class=o>||</span> <span class=nb>echo</span> <span class=s2>&#34;Not exist&#34;</span>
</span></span><span class=line><span class=cl>exist  <span class=c1># test.sh 文件存在</span>
</span></span><span class=line><span class=cl>acs@a1d78bab476e:~learn$ <span class=nb>test</span> -e tesh.sh <span class=o>&amp;&amp;</span> <span class=nb>echo</span> <span class=s2>&#34;exist&#34;</span> <span class=o>||</span> <span class=nb>echo</span> <span class=s2>&#34;Not exist&#34;</span>
</span></span><span class=line><span class=cl>Not exist  <span class=c1># tesh.sh 文件不存在</span></span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nb>test</span> -e filename  <span class=c1># 判断文件是否存在   </span>
</span></span><span class=line><span class=cl><span class=nb>test</span> -f filename <span class=c1># 是否为文件</span>
</span></span><span class=line><span class=cl><span class=nb>test</span> -d filename <span class=c1># 是否为目录</span>
</span></span><span class=line><span class=cl><span class=c1># 权限判断</span>
</span></span><span class=line><span class=cl><span class=nb>test</span> -r filename# 判断文件是否可读
</span></span><span class=line><span class=cl><span class=nb>test</span> -w filename# 判断文件是否可写
</span></span><span class=line><span class=cl><span class=nb>test</span> -x filename# 判断文件是否可执行
</span></span><span class=line><span class=cl><span class=nb>test</span> -s filename# 判断是否为非空文件
</span></span><span class=line><span class=cl><span class=c1># 整数比较</span>
</span></span><span class=line><span class=cl><span class=nb>test</span> <span class=nv>$a</span> -eq <span class=nv>$b</span>  <span class=c1># a是否等于b    equal（相等）</span>
</span></span><span class=line><span class=cl><span class=nb>test</span> <span class=nv>$a</span> -ne <span class=nv>$b</span>  <span class=c1># a是否不等于b   not equal（不等）</span>
</span></span><span class=line><span class=cl><span class=nb>test</span> <span class=nv>$a</span> -gt <span class=nv>$b</span>  <span class=c1># a是否大于b    greater than（大于）</span>
</span></span><span class=line><span class=cl><span class=nb>test</span> <span class=nv>$a</span> -lt <span class=nv>$b</span>  <span class=c1># a是否小于b    less than（小于）</span>
</span></span><span class=line><span class=cl><span class=nb>test</span> <span class=nv>$a</span> -ge <span class=nv>$b</span>  <span class=c1># a是否大于等于b  greater than or equal（大于或等于）</span>
</span></span><span class=line><span class=cl><span class=nb>test</span> <span class=nv>$a</span> -le <span class=nv>$b</span>  <span class=c1># a是否小于等于b  less than or equal（小于或等于）</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 字符串比较</span>
</span></span><span class=line><span class=cl><span class=nb>test</span> -z STRING	<span class=c1># 判断STRING是否为空，如果为空，则返回true</span>
</span></span><span class=line><span class=cl><span class=nb>test</span> -n STRING	<span class=c1># 判断STRING是否非空，如果非空，则返回true（-n可以省略）</span>
</span></span><span class=line><span class=cl><span class=nb>test</span> <span class=nv>str1</span> <span class=o>==</span> str2	<span class=c1># 判断str1是否等于str2</span>
</span></span><span class=line><span class=cl><span class=nb>test</span> str1 !<span class=o>=</span> str2	<span class=c1># 判断str1是否不等于str2</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 多重条件判定</span>
</span></span><span class=line><span class=cl><span class=nb>test</span> -r filename -a -x filename
</span></span><span class=line><span class=cl><span class=nb>test</span> -r filename -o -x filename
</span></span><span class=line><span class=cl><span class=nb>test</span> ! -r filename 
</span></span><span class=line><span class=cl>-a	<span class=c1># 两条件是否同时成立</span>
</span></span><span class=line><span class=cl>-o	<span class=c1># 两条件是否至少一个成立</span>
</span></span><span class=line><span class=cl>!	<span class=c1># 取反。如 test ! -x file，当file不可执行时，返回true</span></span></span></code></pre></td></tr></table></div></div><p><strong>判断符号[]</strong></p><blockquote><p>[]与test用法几乎一模一样，更常用于if语句中。[[]]是[]的加强版，支持的特性更多。</p></blockquote><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>acs@a1d78bab476e:~learn$ <span class=o>[</span><span class=m>2</span> -lt 3<span class=o>]</span>
</span></span><span class=line><span class=cl>acs@a1d78bab476e:~learn$ echoi <span class=nv>$?</span>
</span></span><span class=line><span class=cl><span class=m>0</span>
</span></span><span class=line><span class=cl>acs@a1d78bab476e:~learn$ ls  <span class=c1># 列出当前目录下的所有文件</span>
</span></span><span class=line><span class=cl>output.txt  test.sh 
</span></span><span class=line><span class=cl>acs@a1d78bab476e:~learn$ <span class=o>[</span> -e test.sh <span class=o>]</span> <span class=o>&amp;&amp;</span> <span class=nb>echo</span> <span class=s2>&#34;exist&#34;</span> <span class=o>||</span> <span class=nb>echo</span> <span class=s2>&#34;Not exist&#34;</span>
</span></span><span class=line><span class=cl>exist  <span class=c1># test.sh 文件存在</span>
</span></span><span class=line><span class=cl>acs@a1d78bab476e:~learn$ <span class=o>[</span> -e tesh.sh <span class=o>]</span> <span class=o>&amp;&amp;</span> <span class=nb>echo</span> <span class=s2>&#34;exist&#34;</span> <span class=o>||</span> <span class=nb>echo</span> <span class=s2>&#34;Not exist&#34;</span>
</span></span><span class=line><span class=cl>Not exist  <span class=c1># tesh.sh 文件不存在</span></span></span></code></pre></td></tr></table></div></div><p>注意：</p><blockquote><p>[]内的每一项都要用空格隔开
[]]内的变量，最好用双引号括起来
[]]内的常数，最好用单或双引号括起来</p></blockquote><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nv>name</span><span class=o>=</span><span class=s2>&#34;acwing abc&#34;</span>
</span></span><span class=line><span class=cl><span class=o>[</span> <span class=nv>$name</span> <span class=o>==</span> <span class=s2>&#34;acwing abc&#34;</span> <span class=o>]</span>  <span class=c1># 错误，等价于 [ acwing abc == &#34;acwing abc&#34; ]，前面参数太多</span>
</span></span><span class=line><span class=cl><span class=o>[</span> <span class=s2>&#34;</span><span class=nv>$name</span><span class=s2>&#34;</span> <span class=o>==</span> <span class=s2>&#34;acwing abc&#34;</span> <span class=o>]</span>  <span class=c1># 正确</span></span></span></code></pre></td></tr></table></div></div><h2 id=判断语句 class=heading-element><span>判断语句</span>
<a href=#%e5%88%a4%e6%96%ad%e8%af%ad%e5%8f%a5 class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h2><p><code>if..then</code>形式</p><h3 id=单层if class=heading-element><span>单层if</span>
<a href=#%e5%8d%95%e5%b1%82if class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=k>if</span> condition
</span></span><span class=line><span class=cl><span class=k>then</span>
</span></span><span class=line><span class=cl>    语句1
</span></span><span class=line><span class=cl>    语句2
</span></span><span class=line><span class=cl>    ...
</span></span><span class=line><span class=cl><span class=k>fi</span></span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 实例</span>
</span></span><span class=line><span class=cl><span class=nv>a</span><span class=o>=</span><span class=m>3</span>
</span></span><span class=line><span class=cl><span class=nv>b</span><span class=o>=</span><span class=m>4</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=o>[</span> <span class=s2>&#34;</span><span class=nv>$a</span><span class=s2>&#34;</span> -lt <span class=s2>&#34;</span><span class=nv>$b</span><span class=s2>&#34;</span> <span class=o>]</span> <span class=o>&amp;&amp;</span> <span class=o>[</span> <span class=s2>&#34;</span><span class=nv>$a</span><span class=s2>&#34;</span> -gt <span class=m>2</span> <span class=o>]</span>
</span></span><span class=line><span class=cl><span class=k>then</span>
</span></span><span class=line><span class=cl>    <span class=nb>echo</span> <span class=si>${</span><span class=nv>a</span><span class=si>}</span>在范围内
</span></span><span class=line><span class=cl><span class=k>fi</span>
</span></span><span class=line><span class=cl><span class=c1># 输出 3在范围内</span></span></span></code></pre></td></tr></table></div></div><h3 id=单层if-else class=heading-element><span>单层if-else</span>
<a href=#%e5%8d%95%e5%b1%82if-else class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><p>命令格式</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=k>if</span> condition
</span></span><span class=line><span class=cl><span class=k>then</span>
</span></span><span class=line><span class=cl>    语句1
</span></span><span class=line><span class=cl>    语句2
</span></span><span class=line><span class=cl>    ...
</span></span><span class=line><span class=cl><span class=k>else</span>
</span></span><span class=line><span class=cl>    语句1
</span></span><span class=line><span class=cl>    语句2
</span></span><span class=line><span class=cl>    ...
</span></span><span class=line><span class=cl><span class=k>fi</span></span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 实例</span>
</span></span><span class=line><span class=cl><span class=nv>a</span><span class=o>=</span><span class=m>3</span>
</span></span><span class=line><span class=cl><span class=nv>b</span><span class=o>=</span><span class=m>4</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>if</span> ! <span class=o>[</span> <span class=s2>&#34;</span><span class=nv>$a</span><span class=s2>&#34;</span> -lt <span class=s2>&#34;</span><span class=nv>$b</span><span class=s2>&#34;</span> <span class=o>]</span>
</span></span><span class=line><span class=cl><span class=k>then</span>
</span></span><span class=line><span class=cl>    <span class=nb>echo</span> <span class=si>${</span><span class=nv>a</span><span class=si>}</span>不小于<span class=si>${</span><span class=nv>b</span><span class=si>}</span>
</span></span><span class=line><span class=cl><span class=k>else</span>
</span></span><span class=line><span class=cl>    <span class=nb>echo</span> <span class=si>${</span><span class=nv>a</span><span class=si>}</span>小于<span class=si>${</span><span class=nv>b</span><span class=si>}</span>
</span></span><span class=line><span class=cl><span class=k>fi</span>
</span></span><span class=line><span class=cl><span class=c1># 输出 3小于4</span></span></span></code></pre></td></tr></table></div></div><h3 id=多层if-elif-elif-else class=heading-element><span>多层if-elif-elif-else</span>
<a href=#%e5%a4%9a%e5%b1%82if-elif-elif-else class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=k>if</span> condition
</span></span><span class=line><span class=cl><span class=k>then</span>
</span></span><span class=line><span class=cl>    语句1
</span></span><span class=line><span class=cl>    语句2
</span></span><span class=line><span class=cl>    ...
</span></span><span class=line><span class=cl><span class=k>elif</span> condition
</span></span><span class=line><span class=cl><span class=k>then</span>
</span></span><span class=line><span class=cl>    语句1
</span></span><span class=line><span class=cl>    语句2
</span></span><span class=line><span class=cl>    ...
</span></span><span class=line><span class=cl><span class=k>elif</span> condition
</span></span><span class=line><span class=cl><span class=k>then</span>
</span></span><span class=line><span class=cl>    语句1
</span></span><span class=line><span class=cl>    语句2
</span></span><span class=line><span class=cl><span class=k>else</span>
</span></span><span class=line><span class=cl>    语句1
</span></span><span class=line><span class=cl>    语句2
</span></span><span class=line><span class=cl>    ...
</span></span><span class=line><span class=cl><span class=k>fi</span></span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1>#示例：</span>
</span></span><span class=line><span class=cl><span class=nv>a</span><span class=o>=</span><span class=m>4</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=o>[</span> <span class=nv>$a</span> -eq <span class=m>1</span> <span class=o>]</span>
</span></span><span class=line><span class=cl><span class=k>then</span>
</span></span><span class=line><span class=cl>    <span class=nb>echo</span> <span class=si>${</span><span class=nv>a</span><span class=si>}</span>等于1
</span></span><span class=line><span class=cl><span class=k>elif</span> <span class=o>[</span> <span class=nv>$a</span> -eq <span class=m>2</span> <span class=o>]</span>
</span></span><span class=line><span class=cl><span class=k>then</span>
</span></span><span class=line><span class=cl>    <span class=nb>echo</span> <span class=si>${</span><span class=nv>a</span><span class=si>}</span>等于2
</span></span><span class=line><span class=cl><span class=k>elif</span> <span class=o>[</span> <span class=nv>$a</span> -eq <span class=m>3</span> <span class=o>]</span>
</span></span><span class=line><span class=cl><span class=k>then</span>
</span></span><span class=line><span class=cl>    <span class=nb>echo</span> <span class=si>${</span><span class=nv>a</span><span class=si>}</span>等于3
</span></span><span class=line><span class=cl><span class=k>else</span>
</span></span><span class=line><span class=cl>    <span class=nb>echo</span> 其他
</span></span><span class=line><span class=cl><span class=k>fi</span>
</span></span><span class=line><span class=cl><span class=c1># 输出 其他</span></span></span></code></pre></td></tr></table></div></div><h3 id=caseesac形式 class=heading-element><span>case…esac形式</span>
<a href=#caseesac%e5%bd%a2%e5%bc%8f class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><blockquote><p>类似于C/C++中的switch语句。</p></blockquote><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=k>case</span> $变量名称 in
</span></span><span class=line><span class=cl>    值1<span class=o>)</span>
</span></span><span class=line><span class=cl>        语句1
</span></span><span class=line><span class=cl>        语句2
</span></span><span class=line><span class=cl>        ...
</span></span><span class=line><span class=cl>        <span class=p>;;</span>  <span class=c1># 类似于C/C++中的break</span>
</span></span><span class=line><span class=cl>    值2<span class=o>)</span>
</span></span><span class=line><span class=cl>        语句1
</span></span><span class=line><span class=cl>        语句2
</span></span><span class=line><span class=cl>        ...
</span></span><span class=line><span class=cl>        <span class=p>;;</span>
</span></span><span class=line><span class=cl>    *<span class=o>)</span>  <span class=c1># 类似于C/C++中的default</span>
</span></span><span class=line><span class=cl>        语句1
</span></span><span class=line><span class=cl>        语句2
</span></span><span class=line><span class=cl>        ...
</span></span><span class=line><span class=cl>        <span class=p>;;</span>
</span></span><span class=line><span class=cl><span class=k>esac</span></span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 示例：</span>
</span></span><span class=line><span class=cl><span class=nv>a</span><span class=o>=</span><span class=m>4</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>case</span> <span class=nv>$a</span> in
</span></span><span class=line><span class=cl>    1<span class=o>)</span>
</span></span><span class=line><span class=cl>        <span class=nb>echo</span> <span class=si>${</span><span class=nv>a</span><span class=si>}</span>等于1
</span></span><span class=line><span class=cl>        <span class=p>;;</span>  
</span></span><span class=line><span class=cl>    2<span class=o>)</span>
</span></span><span class=line><span class=cl>        <span class=nb>echo</span> <span class=si>${</span><span class=nv>a</span><span class=si>}</span>等于2
</span></span><span class=line><span class=cl>        <span class=p>;;</span>  
</span></span><span class=line><span class=cl>    3<span class=o>)</span>                                                
</span></span><span class=line><span class=cl>        <span class=nb>echo</span> <span class=si>${</span><span class=nv>a</span><span class=si>}</span>等于3
</span></span><span class=line><span class=cl>        <span class=p>;;</span>  
</span></span><span class=line><span class=cl>    *<span class=o>)</span>
</span></span><span class=line><span class=cl>        <span class=nb>echo</span> 其他
</span></span><span class=line><span class=cl>        <span class=p>;;</span>  
</span></span><span class=line><span class=cl><span class=k>esac</span>
</span></span><span class=line><span class=cl><span class=c1># 输出：其他</span></span></span></code></pre></td></tr></table></div></div><h2 id=循环语句 class=heading-element><span>循环语句</span>
<a href=#%e5%be%aa%e7%8e%af%e8%af%ad%e5%8f%a5 class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h2><h3 id=forindodone class=heading-element><span>for…in…do…done</span>
<a href=#forindodone class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=k>for</span> var in val1 val2 val3
</span></span><span class=line><span class=cl><span class=k>do</span>
</span></span><span class=line><span class=cl>    语句1
</span></span><span class=line><span class=cl>    语句2
</span></span><span class=line><span class=cl>    ...
</span></span><span class=line><span class=cl><span class=k>done</span></span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 示例1，输出a 2 cc，每个元素一行：</span>
</span></span><span class=line><span class=cl><span class=k>for</span> i in a <span class=m>2</span> cc
</span></span><span class=line><span class=cl><span class=k>do</span>
</span></span><span class=line><span class=cl>    <span class=nb>echo</span> <span class=nv>$i</span>
</span></span><span class=line><span class=cl><span class=k>done</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>#示例2，输出当前路径下的所有文件名，每个文件名一行：</span>
</span></span><span class=line><span class=cl><span class=k>for</span> file in <span class=sb>`</span>ls<span class=sb>`</span>
</span></span><span class=line><span class=cl><span class=k>do</span>
</span></span><span class=line><span class=cl>    <span class=nb>echo</span> <span class=nv>$file</span>
</span></span><span class=line><span class=cl><span class=k>done</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 示例3，输出1-10;seq返回一个序列</span>
</span></span><span class=line><span class=cl><span class=k>for</span> i in <span class=k>$(</span>seq <span class=m>1</span> 10<span class=k>)</span>
</span></span><span class=line><span class=cl><span class=k>do</span>
</span></span><span class=line><span class=cl>    <span class=nb>echo</span> <span class=nv>$i</span>
</span></span><span class=line><span class=cl><span class=k>done</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 示例4，使用{1..10} 或者 {a..z}</span>
</span></span><span class=line><span class=cl><span class=k>for</span> i in <span class=o>{</span>a..z<span class=o>}</span>
</span></span><span class=line><span class=cl><span class=k>do</span>
</span></span><span class=line><span class=cl>    <span class=nb>echo</span> <span class=nv>$i</span>
</span></span><span class=line><span class=cl><span class=k>done</span></span></span></code></pre></td></tr></table></div></div><h3 id=for--dodone class=heading-element><span>for ((…;…;…)) do…done</span>
<a href=#for--dodone class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=k>for</span> <span class=o>((</span>expression<span class=p>;</span> condition<span class=p>;</span> expression<span class=o>))</span>
</span></span><span class=line><span class=cl><span class=k>do</span>
</span></span><span class=line><span class=cl>    语句1
</span></span><span class=line><span class=cl>    语句2
</span></span><span class=line><span class=cl><span class=k>done</span></span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 示例，输出1-10，每个数占一行：</span>
</span></span><span class=line><span class=cl><span class=k>for</span> <span class=o>((</span><span class=nv>i</span><span class=o>=</span>1<span class=p>;</span> i&lt;<span class=o>=</span>10<span class=p>;</span> i++<span class=o>))</span>
</span></span><span class=line><span class=cl><span class=k>do</span>
</span></span><span class=line><span class=cl>    <span class=nb>echo</span> <span class=nv>$i</span>
</span></span><span class=line><span class=cl><span class=k>done</span></span></span></code></pre></td></tr></table></div></div><h3 id=whiledodone循环 class=heading-element><span>while…do…done循环</span>
<a href=#whiledodone%e5%be%aa%e7%8e%af class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=k>while</span> condition
</span></span><span class=line><span class=cl><span class=k>do</span>
</span></span><span class=line><span class=cl>    语句1
</span></span><span class=line><span class=cl>    语句2
</span></span><span class=line><span class=cl>    ...
</span></span><span class=line><span class=cl><span class=k>done</span></span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 示例，文件结束符为Ctrl+d，输入文件结束符后read指令返回false。</span>
</span></span><span class=line><span class=cl><span class=k>while</span> <span class=nb>read</span> name
</span></span><span class=line><span class=cl><span class=k>do</span>
</span></span><span class=line><span class=cl>    <span class=nb>echo</span> <span class=nv>$name</span>
</span></span><span class=line><span class=cl><span class=k>done</span></span></span></code></pre></td></tr></table></div></div><h3 id=untildodone循环 class=heading-element><span>until…do…done循环</span>
<a href=#untildodone%e5%be%aa%e7%8e%af class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><blockquote><p>当条件为真时结束。</p></blockquote><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=k>until</span> condition
</span></span><span class=line><span class=cl><span class=k>do</span>
</span></span><span class=line><span class=cl>    语句1
</span></span><span class=line><span class=cl>    语句2
</span></span><span class=line><span class=cl>    ...
</span></span><span class=line><span class=cl><span class=k>done</span></span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 示例，当用户输入yes或者YES时结束，否则一直等待读入。</span>
</span></span><span class=line><span class=cl><span class=k>until</span> <span class=o>[</span> <span class=s2>&#34;</span><span class=si>${</span><span class=nv>word</span><span class=si>}</span><span class=s2>&#34;</span> <span class=o>==</span> <span class=s2>&#34;yes&#34;</span> <span class=o>]</span> <span class=o>||</span> <span class=o>[</span> <span class=s2>&#34;</span><span class=si>${</span><span class=nv>word</span><span class=si>}</span><span class=s2>&#34;</span> <span class=o>==</span> <span class=s2>&#34;YES&#34;</span> <span class=o>]</span>
</span></span><span class=line><span class=cl><span class=k>do</span>
</span></span><span class=line><span class=cl>    <span class=nb>read</span> -p <span class=s2>&#34;Please input yes/YES to stop this program: &#34;</span> word
</span></span><span class=line><span class=cl><span class=k>done</span></span></span></code></pre></td></tr></table></div></div><h3 id=break命令 class=heading-element><span>break命令</span>
<a href=#break%e5%91%bd%e4%bb%a4 class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><blockquote><p>跳出当前一层循环，注意与C/C++不同的是：break不能跳出case语句。</p></blockquote><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 示例</span>
</span></span><span class=line><span class=cl><span class=k>while</span> <span class=nb>read</span> name
</span></span><span class=line><span class=cl><span class=k>do</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=o>((</span><span class=nv>i</span><span class=o>=</span>1<span class=p>;</span>i&lt;<span class=o>=</span>10<span class=p>;</span>i++<span class=o>))</span>
</span></span><span class=line><span class=cl>    <span class=k>do</span>
</span></span><span class=line><span class=cl>        <span class=k>case</span> <span class=nv>$i</span> in
</span></span><span class=line><span class=cl>            8<span class=o>)</span>
</span></span><span class=line><span class=cl>                <span class=nb>break</span>
</span></span><span class=line><span class=cl>                <span class=p>;;</span>
</span></span><span class=line><span class=cl>            *<span class=o>)</span>
</span></span><span class=line><span class=cl>                <span class=nb>echo</span> <span class=nv>$i</span>
</span></span><span class=line><span class=cl>                <span class=p>;;</span>
</span></span><span class=line><span class=cl>        <span class=k>esac</span>
</span></span><span class=line><span class=cl>    <span class=k>done</span>
</span></span><span class=line><span class=cl><span class=k>done</span>
</span></span><span class=line><span class=cl><span class=c1># 该示例每读入非EOF的字符串，会输出一遍1-7。</span>
</span></span><span class=line><span class=cl><span class=c1># 该程序可以输入Ctrl+d文件结束符来结束，也可以直接用Ctrl+c杀掉该进程。</span></span></span></code></pre></td></tr></table></div></div><h3 id=continue命令 class=heading-element><span>continue命令</span>
<a href=#continue%e5%91%bd%e4%bb%a4 class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><blockquote><p>跳出当前循环。</p></blockquote><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 示例：</span>
</span></span><span class=line><span class=cl><span class=k>for</span> <span class=o>((</span><span class=nv>i</span><span class=o>=</span>1<span class=p>;</span>i&lt;<span class=o>=</span>10<span class=p>;</span>i++<span class=o>))</span>
</span></span><span class=line><span class=cl><span class=k>do</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=o>[</span> <span class=sb>`</span>expr <span class=nv>$i</span> % 2<span class=sb>`</span> -eq <span class=m>0</span> <span class=o>]</span>
</span></span><span class=line><span class=cl>    <span class=k>then</span>
</span></span><span class=line><span class=cl>        <span class=k>continue</span>
</span></span><span class=line><span class=cl>    <span class=k>fi</span>
</span></span><span class=line><span class=cl>    <span class=nb>echo</span> <span class=nv>$i</span>
</span></span><span class=line><span class=cl><span class=k>done</span>
</span></span><span class=line><span class=cl><span class=c1># 该程序输出1-10中的所有奇数。</span></span></span></code></pre></td></tr></table></div></div><h3 id=死循环的处理方式 class=heading-element><span>死循环的处理方式</span>
<a href=#%e6%ad%bb%e5%be%aa%e7%8e%af%e7%9a%84%e5%a4%84%e7%90%86%e6%96%b9%e5%bc%8f class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><blockquote><p>如果AC Terminal可以打开该程序，则输入<code>Ctrl+c</code>即可。</p><p>否则可以直接关闭进程：</p><blockquote><p>使用<code>top</code>命令找到进程的PID或者<code>ps aux</code>返回当前打开的所有进程。<code>shift+M</code>按照内存排序
输入<code>kill -9 PID</code>即可关掉此进程</p></blockquote></blockquote><h2 id=函数 class=heading-element><span>函数</span>
<a href=#%e5%87%bd%e6%95%b0 class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h2><p>bash中的函数类似于C/C++中的函数，但<code>return</code>的返回值与C/C++不同，返回的是<code>exit code</code>，取值为0-255，0表示正常结束。</p><p>如果想获取函数的输出结果，可以通过<code>echo</code>输出到<code>stdout</code>中，然后通过<code>$(function_name)</code>来获取stdout中的结果。
函数的return值可以通过<code>$?</code>来获取。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=o>[</span><span class=k>function</span><span class=o>]</span> func_name<span class=o>()</span> <span class=o>{</span>  <span class=c1># function关键字可以省略</span>
</span></span><span class=line><span class=cl>    语句1
</span></span><span class=line><span class=cl>    语句2
</span></span><span class=line><span class=cl>    ...
</span></span><span class=line><span class=cl><span class=o>}</span></span></span></code></pre></td></tr></table></div></div><p><strong>不获取 return值和stdout值</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>func<span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=nv>name</span><span class=o>=</span>abc
</span></span><span class=line><span class=cl>    <span class=nb>echo</span> <span class=s2>&#34;Hello </span><span class=nv>$name</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>func
</span></span><span class=line><span class=cl><span class=c1># 输出结果：Hello abc</span></span></span></code></pre></td></tr></table></div></div><p><strong>获取 return值和stdout值</strong></p><blockquote><p>不写return时，默认return 0。</p></blockquote><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>func<span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=nv>name</span><span class=o>=</span>abc
</span></span><span class=line><span class=cl>    <span class=nb>echo</span> <span class=s2>&#34;Hello </span><span class=nv>$name</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=m>123</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nv>output</span><span class=o>=</span><span class=k>$(</span>func<span class=k>)</span>
</span></span><span class=line><span class=cl><span class=nv>ret</span><span class=o>=</span><span class=nv>$?</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s2>&#34;output = </span><span class=nv>$output</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s2>&#34;return = </span><span class=nv>$ret</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl><span class=c1># 输出结果：</span>
</span></span><span class=line><span class=cl><span class=c1># output = Hello abc</span>
</span></span><span class=line><span class=cl><span class=c1># return = 123</span></span></span></code></pre></td></tr></table></div></div><p><strong>函数的输入参数</strong></p><blockquote><p>在函数内，$1表示第一个输入参数，$2表示第二个输入参数，依此类推。
函数内的$0仍然是文件名，而不是函数名。</p></blockquote><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>func<span class=o>()</span> <span class=o>{</span>  <span class=c1># 递归计算 $1 + ($1 - 1) + ($1 - 2) + ... + 0</span>
</span></span><span class=line><span class=cl>    <span class=nv>word</span><span class=o>=</span><span class=s2>&#34;&#34;</span>
</span></span><span class=line><span class=cl>    <span class=k>while</span> <span class=o>[</span> <span class=s2>&#34;</span><span class=si>${</span><span class=nv>word</span><span class=si>}</span><span class=s2>&#34;</span> !<span class=o>=</span> <span class=s1>&#39;y&#39;</span> <span class=o>]</span> <span class=o>&amp;&amp;</span> <span class=o>[</span> <span class=s2>&#34;</span><span class=si>${</span><span class=nv>word</span><span class=si>}</span><span class=s2>&#34;</span> !<span class=o>=</span> <span class=s1>&#39;n&#39;</span> <span class=o>]</span>
</span></span><span class=line><span class=cl>    <span class=k>do</span>
</span></span><span class=line><span class=cl>        <span class=nb>read</span> -p <span class=s2>&#34;要进入func(</span><span class=nv>$1</span><span class=s2>)函数吗？请输入y/n：&#34;</span> word
</span></span><span class=line><span class=cl>    <span class=k>done</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=o>[</span> <span class=s2>&#34;</span><span class=nv>$word</span><span class=s2>&#34;</span> <span class=o>==</span> <span class=s1>&#39;n&#39;</span> <span class=o>]</span>
</span></span><span class=line><span class=cl>    <span class=k>then</span>
</span></span><span class=line><span class=cl>        <span class=nb>echo</span> <span class=m>0</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=m>0</span>
</span></span><span class=line><span class=cl>    <span class=k>fi</span>  
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=o>[</span> <span class=nv>$1</span> -le <span class=m>0</span> <span class=o>]</span> 
</span></span><span class=line><span class=cl>    <span class=k>then</span>
</span></span><span class=line><span class=cl>        <span class=nb>echo</span> <span class=m>0</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=m>0</span>
</span></span><span class=line><span class=cl>    <span class=k>fi</span>  
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nv>sum</span><span class=o>=</span><span class=k>$(</span>func <span class=k>$(</span>expr <span class=nv>$1</span> - 1<span class=k>))</span>
</span></span><span class=line><span class=cl>    <span class=nb>echo</span> <span class=k>$(</span>expr <span class=nv>$sum</span> + <span class=nv>$1</span><span class=k>)</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=k>$(</span>func 10<span class=k>)</span>
</span></span><span class=line><span class=cl><span class=c1># 输出结果:55</span></span></span></code></pre></td></tr></table></div></div><p><strong>函数内的局部变量</strong></p><blockquote><p>可以在函数内定义局部变量，作用范围仅在当前函数内。
可以在递归函数中定义局部变量。
<code>local 变量名=变量值</code></p></blockquote><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=cp>#! /bin/bash
</span></span></span><span class=line><span class=cl><span class=cp></span>
</span></span><span class=line><span class=cl>func<span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=nb>local</span> <span class=nv>name</span><span class=o>=</span>abc
</span></span><span class=line><span class=cl>    <span class=nb>echo</span> <span class=nv>$name</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>func
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=nv>$name</span>
</span></span><span class=line><span class=cl><span class=c1># 输出结果：abc</span>
</span></span><span class=line><span class=cl><span class=c1># 第一行为函数内的name变量，第二行为函数外调用name变量，会发现此时该变量不存在。</span></span></span></code></pre></td></tr></table></div></div><h2 id=exit命令 class=heading-element><span>exit命令</span>
<a href=#exit%e5%91%bd%e4%bb%a4 class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h2><blockquote><p>exit命令用来退出当前shell进程，并返回一个退出状态；使用$?可以接收这个退出状态。</p><p>exit命令可以接受一个整数值作为参数，代表退出状态。如果不指定，默认状态值是 0。</p><p>exit退出状态只能是一个介于 0~255 之间的整数，其中只有 0 表示成功，其它值都表示失败。</p></blockquote><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=cp>#! /bin/bash
</span></span></span><span class=line><span class=cl><span class=cp></span>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=o>[</span> <span class=nv>$#</span> -ne <span class=m>1</span> <span class=o>]</span>  <span class=c1># 如果传入参数个数等于1，则正常退出；否则非正常退出。</span>
</span></span><span class=line><span class=cl><span class=k>then</span>
</span></span><span class=line><span class=cl>    <span class=nb>echo</span> <span class=s2>&#34;arguments not valid&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nb>exit</span> <span class=m>1</span>
</span></span><span class=line><span class=cl><span class=k>else</span>
</span></span><span class=line><span class=cl>    <span class=nb>echo</span> <span class=s2>&#34;arguments valid&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nb>exit</span> <span class=m>0</span>
</span></span><span class=line><span class=cl><span class=k>fi</span>
</span></span><span class=line><span class=cl><span class=c1># 执行该脚本：</span>
</span></span><span class=line><span class=cl>./test.sh acwing
</span></span><span class=line><span class=cl>arguments valid
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=nv>$?</span>  <span class=c1># 传入一个参数，则正常退出，exit code为0</span>
</span></span><span class=line><span class=cl><span class=m>0</span>
</span></span><span class=line><span class=cl> ./test.sh 
</span></span><span class=line><span class=cl>arguments not valid
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=nv>$?</span>  <span class=c1># 传入参数个数不是1，则非正常退出，exit code为1</span>
</span></span><span class=line><span class=cl><span class=m>1</span></span></span></code></pre></td></tr></table></div></div><h2 id=文件重定向 class=heading-element><span>文件重定向</span>
<a href=#%e6%96%87%e4%bb%b6%e9%87%8d%e5%ae%9a%e5%90%91 class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h2><p>每个进程默认打开3个文件描述符：</p><blockquote><p>stdin标准输入，从命令行读取数据，文件描述符为0</p><p>stdout标准输出，向命令行输出数据，文件描述符为1</p><p>stderr标准错误输出，向命令行输出数据，文件描述符为2</p><p>可以用文件重定向将这三个文件重定向到其他文件中。</p></blockquote><table><thead><tr><th style=text-align:center>命令</th><th style=text-align:center>说明</th></tr></thead><tbody><tr><td style=text-align:center>command > file</td><td style=text-align:center>将stdout重定向到file中</td></tr><tr><td style=text-align:center>command &lt; file</td><td style=text-align:center>将stdin重定向到file中</td></tr><tr><td style=text-align:center>command &#187; file</td><td style=text-align:center>将stdout以追加方式重定向到file中</td></tr><tr><td style=text-align:center>command n> file</td><td style=text-align:center>将文件描述符n重定向到file中</td></tr><tr><td style=text-align:center>command n&#187; file</td><td style=text-align:center>将文件描述符n以追加方式重定向到file中</td></tr></tbody></table><p><strong>输入和输出重定向</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nb>echo</span> -e <span class=s2>&#34;Hello \c&#34;</span> &gt; output.txt  <span class=c1># 将stdout重定向到output.txt中</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s2>&#34;World&#34;</span> &gt;&gt; output.txt  <span class=c1># 将字符串追加到output.txt中</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>read</span> str &lt; output.txt  <span class=c1># 从output.txt中读取字符串</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=nv>$str</span>  <span class=c1># 输出结果：Hello World</span></span></span></code></pre></td></tr></table></div></div><p><strong>同时重定向stdin和stdout</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=cp>#! /bin/bash
</span></span></span><span class=line><span class=cl><span class=cp></span>
</span></span><span class=line><span class=cl><span class=nb>read</span> a
</span></span><span class=line><span class=cl><span class=nb>read</span> b
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=k>$(</span>expr <span class=s2>&#34;</span><span class=nv>$a</span><span class=s2>&#34;</span> + <span class=s2>&#34;</span><span class=nv>$b</span><span class=s2>&#34;</span><span class=k>)</span>
</span></span><span class=line><span class=cl>创建input.txt，里面的内容为：
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=m>3</span>
</span></span><span class=line><span class=cl><span class=m>4</span>
</span></span><span class=line><span class=cl><span class=c1># 执行命令：</span>
</span></span><span class=line><span class=cl>./test.sh &lt; input.txt &gt; output.txt  <span class=c1># 从input.txt中读取内容，将输出写入output.txt中</span>
</span></span><span class=line><span class=cl>cat output.txt  <span class=c1># 查看output.txt中的内容</span>
</span></span><span class=line><span class=cl><span class=m>7</span></span></span></code></pre></td></tr></table></div></div><h2 id=引入外部脚本 class=heading-element><span>引入外部脚本</span>
<a href=#%e5%bc%95%e5%85%a5%e5%a4%96%e9%83%a8%e8%84%9a%e6%9c%ac class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h2><p>类似于C/C++中的include操作，bash也可以引入其他文件中的代码。</p><blockquote><p><code>. filename</code> # 注意点和文件名之间有一个空格
<code>source filename</code></p></blockquote><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># test1.sh</span>
</span></span><span class=line><span class=cl><span class=c1>#! /bin/bash</span>
</span></span><span class=line><span class=cl><span class=nv>name</span><span class=o>=</span>abc  <span class=c1># 定义变量name</span>
</span></span><span class=line><span class=cl><span class=c1># 创建test2.sh</span>
</span></span><span class=line><span class=cl><span class=c1>#! /bin/bash</span>
</span></span><span class=line><span class=cl><span class=nb>source</span> test1.sh <span class=c1># 或 . test1.sh</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>echo</span> My name is: <span class=nv>$name</span>  <span class=c1># 可以使用test1.sh中的变量</span>
</span></span><span class=line><span class=cl><span class=c1># 执行命令：</span>
</span></span><span class=line><span class=cl>./test2.sh 
</span></span><span class=line><span class=cl>My name is: abc</span></span></code></pre></td></tr></table></div></div><h2 id=文本处理三剑客 class=heading-element><span>文本处理三剑客</span>
<a href=#%e6%96%87%e6%9c%ac%e5%a4%84%e7%90%86%e4%b8%89%e5%89%91%e5%ae%a2 class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h2><h3 id=grep class=heading-element><span>grep</span>
<a href=#grep class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><blockquote><p>适合单纯的查找或匹配文本</p></blockquote><p><code>grep -l './hip-prof-3912.db' log_*.txt</code>:查找文本</p><h3 id=sed class=heading-element><span>sed</span>
<a href=#sed class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><blockquote><p>更适合编辑匹配到的文本</p></blockquote><h3 id=awkhttpswwwgnuorgsoftwaregawkmanualgawkhtml class=heading-element><span><a href=https://www.gnu.org/software/gawk/manual/gawk.html target=_blank rel="external nofollow noopener noreferrer">awk</a></span>
<a href=#awkhttpswwwgnuorgsoftwaregawkmanualgawkhtml class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><blockquote><p>更适合格式化文本，对文本进行较复杂格式处理</p></blockquote><p><strong>AWK执行的流程</strong>：读（Read）、执行（Execute）与重复（Repeat）</p><blockquote><p><strong>读（Read</strong>）：从输入流（文件、管道或标准输入）中读取一行，然后将其存入内存中。</p><p><strong>执行（Execute）</strong>：对于每一行的输入，所有的AWK命令按顺序执行。</p><p><strong>重复（Repeat）</strong>：一直重复上述两个过程，直到文件结束。</p></blockquote><p><strong>程序结构</strong></p><blockquote><p><strong>开始块（BEGIN block</strong>）：启动，只执行一次；BEGIN是关键字需大写；可选（程序可以没有开始块）</p><p><strong>主体块(Body block)</strong>：输入行，执行命令</p><p><strong>结束块（END block）</strong>：介素执行，END是关键字需大写；可选（程序可以没有开始块）</p></blockquote><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=o>[</span>user553@login05 shell<span class=o>]</span>$ cat stu.txt 
</span></span><span class=line><span class=cl>1）     张三    物理    <span class=m>60</span>
</span></span><span class=line><span class=cl>2）     李四    数学    <span class=m>70</span>
</span></span><span class=line><span class=cl>3）     王五    英语    <span class=m>80</span>
</span></span><span class=line><span class=cl>4）     赵六    语文    <span class=m>90</span>
</span></span><span class=line><span class=cl>5）     孙七    化学    <span class=m>100</span>
</span></span><span class=line><span class=cl><span class=o>[</span>user553@login05 shell<span class=o>]</span>$ awk <span class=s1>&#39;{print}&#39;</span> stu.txt 
</span></span><span class=line><span class=cl>1）     张三    物理    <span class=m>60</span>
</span></span><span class=line><span class=cl>2）     李四    数学    <span class=m>70</span>
</span></span><span class=line><span class=cl>3）     王五    英语    <span class=m>80</span>
</span></span><span class=line><span class=cl>4）     赵六    语文    <span class=m>90</span>
</span></span><span class=line><span class=cl>5）     孙七    化学    <span class=m>100</span>
</span></span><span class=line><span class=cl><span class=o>[</span>user553@login05 shell<span class=o>]</span>$ awk <span class=s1>&#39;BEGIN{printf &#34;编号\t姓名\t科目\t成绩\n&#34;} {print}&#39;</span> stu.txt 
</span></span><span class=line><span class=cl>编号    姓名    科目    成绩
</span></span><span class=line><span class=cl>1）     张三    物理    <span class=m>60</span>
</span></span><span class=line><span class=cl>2）     李四    数学    <span class=m>70</span>
</span></span><span class=line><span class=cl>3）     王五    英语    <span class=m>80</span>
</span></span><span class=line><span class=cl>4）     赵六    语文    <span class=m>90</span>
</span></span><span class=line><span class=cl>5）     孙七    化学    <span class=m>100</span></span></span></code></pre></td></tr></table></div></div><p>语法</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>awk <span class=o>[</span>options<span class=o>]</span> <span class=s1>&#39; Pattern{Action} &#39;</span>&lt;file&gt;</span></span></code></pre></td></tr></table></div></div><blockquote><p>awk中最常用的动作<code>Action</code>就是<code>print</code>和<code>printf</code></p><p>逐行处理的，默认以<code>换行符</code>为标记，识别每一行；awk会按照用户指定的分隔符去分割当前行，如果没有指定分隔符，默认使用空格作为分隔符。</p><p><code>$0</code>和<code>$NF</code>均为内置变量。<code>$NF</code>表示当前行分割后的最后一列。</p><p>内置变量不能加双引号，否则会当文本输出</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=o>[</span>user553@login05 shell<span class=o>]</span>$ <span class=nb>echo</span> aaa <span class=p>|</span> awk <span class=s1>&#39;{print $1}&#39;</span>
</span></span><span class=line><span class=cl>aaa
</span></span><span class=line><span class=cl><span class=o>[</span>user553@login05 shell<span class=o>]</span>$ <span class=nb>echo</span> aaa <span class=p>|</span> awk <span class=s1>&#39;{print &#34;$1&#34;}&#39;</span>
</span></span><span class=line><span class=cl><span class=nv>$1</span></span></span></code></pre></td></tr></table></div></div></blockquote><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=c1># 通过管道输出磁盘信息；printf中可以格式化输出的字符串，确保输出是等宽字符显示。</span>
</span></span><span class=line><span class=cl><span class=o>[</span>user553@login05 shell<span class=o>]</span>$ df -h <span class=p>|</span> awk <span class=s1>&#39;{print $1&#34;\t&#34;$2&#34;\t&#34;%5}&#39;</span>
</span></span><span class=line><span class=cl>Filesystem      Size0
</span></span><span class=line><span class=cl>/dev/sda3       422G0
</span></span><span class=line><span class=cl>devtmpfs        126G0
</span></span><span class=line><span class=cl>/dev/sda1       2.0G0
</span></span><span class=line><span class=cl>ParaStor_01_work        27P0
</span></span><span class=line><span class=cl>ParaStor_01_home        215T0
</span></span><span class=line><span class=cl>/dev/sdc1       15T0
</span></span><span class=line><span class=cl>ParaStor_01_nvme        388T0
</span></span><span class=line><span class=cl><span class=o>[</span>user553@login05 shell<span class=o>]</span>$ df -h <span class=p>|</span> awk <span class=s1>&#39;{printf &#34;%20s\t %s\t %s\t\n&#34;, $1,$2,$5}&#39;</span>
</span></span><span class=line><span class=cl>          Filesystem     Size    Use%
</span></span><span class=line><span class=cl>           /dev/sda3     422G    16%
</span></span><span class=line><span class=cl>            devtmpfs     126G    0%
</span></span><span class=line><span class=cl>           /dev/sda1     2.0G    9%
</span></span><span class=line><span class=cl>    ParaStor_01_work     27P     15%
</span></span><span class=line><span class=cl>    ParaStor_01_home     215T    59%
</span></span><span class=line><span class=cl>           /dev/sdc1     15T     1%
</span></span><span class=line><span class=cl>    ParaStor_01_nvme     388T    2%</span></span></code></pre></td></tr></table></div></div><blockquote><p><code>Pattern</code>，其实就是选择的条件</p></blockquote><p>AWK支持正则表达式；正则表达式被放入两个斜线中：/正则表达式/。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=c1># 从/etc/passwd文件中找出以root开头的行</span>
</span></span><span class=line><span class=cl><span class=o>[</span>user553@login05 shell<span class=o>]</span>$ grep <span class=s2>&#34;^root&#34;</span> /etc/passwd
</span></span><span class=line><span class=cl>root:x:0:0:root:/root:/bin/bash
</span></span><span class=line><span class=cl><span class=o>[</span>user553@login05 shell<span class=o>]</span>$ awk <span class=s1>&#39;/^root/ {print $0}&#39;</span> /etc/passwd
</span></span><span class=line><span class=cl>root:x:0:0:root:/root:/bin/bash</span></span></code></pre></td></tr></table></div></div><blockquote><p><code>[Options]</code>可选参数。最常用的是：</p></blockquote><p>-F， 用于指定输入分隔符；</p><p>-v varname=value 变量名区分字符大小写， 用于设置变量的值</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>$ awk -v <span class=nv>myvar</span><span class=o>=</span><span class=s1>&#39;hello world!&#39;</span> <span class=s1>&#39;BEGIN {print myvar}&#39;</span>
</span></span><span class=line><span class=cl>hello world!
</span></span><span class=line><span class=cl><span class=o>[</span>user553@login05 shell<span class=o>]</span>$ awk -F<span class=s2>&#34; &#34;</span> <span class=s1>&#39;NR==2 {print $0}&#39;</span> stu.txt 
</span></span><span class=line><span class=cl>2）     李四    数学    <span class=m>70</span></span></span></code></pre></td></tr></table></div></div><p><strong>awk if语句</strong>：必须用在{}中，且比较内容用()括起来。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=c1># 统计uid小于等于500和大于500的用户个数</span>
</span></span><span class=line><span class=cl><span class=o>[</span>user553@login05 shell<span class=o>]</span>$ awk -F: <span class=s1>&#39;BEGIN {i=0;j=0} {if($3&lt;=500) {i++} else {j++}} END{print i, j}&#39;</span> /etc/passwd
</span></span><span class=line><span class=cl><span class=m>41</span> <span class=m>24</span></span></span></code></pre></td></tr></table></div></div><p>for循环</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=o>[</span>user553@login05 shell<span class=o>]</span>$ awk <span class=s1>&#39;BEGIN {for(i=1; i&lt;=10;i++){if(i%2!=0) continue;print i}}&#39;</span>
</span></span><span class=line><span class=cl><span class=m>2</span>
</span></span><span class=line><span class=cl><span class=m>4</span>
</span></span><span class=line><span class=cl><span class=m>6</span>
</span></span><span class=line><span class=cl><span class=m>8</span>
</span></span><span class=line><span class=cl><span class=m>10</span></span></span></code></pre></td></tr></table></div></div></div><div class=post-footer id=post-footer><div class=post-info><div class=post-info-line><div class=post-info-mod><span title="更新于 2023-06-17 13:33:12">更新于 2023-06-17&nbsp;</span></div><div class=post-info-license><span><a rel="license external nofollow noopener noreferrer" href=https://creativecommons.org/licenses/by-nc/4.0/ target=_blank>CC BY-NC 4.0</a></span></div></div><div class=post-info-line><div class=post-info-md></div><div class=post-info-share><span><a href=javascript:void(0); title="分享到 X" data-sharer=twitter data-url=http://fengchen321.github.io/posts/computer/shell%E7%BC%96%E7%A8%8B/ data-title=Shell编程 data-hashtags=Computer,Linux><i class="fa-brands fa-x-twitter fa-fw" aria-hidden=true></i></a>
<a href=javascript:void(0); title="分享到 Facebook" data-sharer=facebook data-url=http://fengchen321.github.io/posts/computer/shell%E7%BC%96%E7%A8%8B/ data-hashtag=Computer><i class="fa-brands fa-facebook-square fa-fw" aria-hidden=true></i></a>
<a href=javascript:void(0); title="分享到 微博" data-sharer=weibo data-url=http://fengchen321.github.io/posts/computer/shell%E7%BC%96%E7%A8%8B/ data-title=Shell编程><i class="fa-brands fa-weibo fa-fw" aria-hidden=true></i></a></span></div></div></div><div class=post-info-more><section class=post-tags><i class="fa-solid fa-tags fa-fw me-1" aria-hidden=true></i><a href=/tags/computer/ class=post-tag title="标签 - Computer">Computer</a><a href=/tags/linux/ class=post-tag title="标签 - Linux">Linux</a></section><section><span><a href=javascript:void(0); onclick=window.history.back()>返回</a></span>&nbsp;|&nbsp;<span><a href=/>主页</a></span></section></div><div class=post-nav><a href=/posts/computer/tmux%E6%95%99%E7%A8%8B/ class=post-nav-item rel=prev title=Tmux教程><i class="fa-solid fa-angle-left fa-fw" aria-hidden=true></i>Tmux教程</a><a href=/posts/computer/gdb%E8%B0%83%E8%AF%95%E6%95%99%E7%A8%8B/ class=post-nav-item rel=next title=GDB调试>GDB调试<i class="fa-solid fa-angle-right fa-fw" aria-hidden=true></i></a></div></div></article><aside class=toc id=toc-auto aria-label=目录><h2 class=toc-title>目录&nbsp;<i class="toc-icon fa-solid fa-angle-down fa-fw" aria-hidden=true></i></h2><div class="toc-content always-active" id=toc-content-auto></div></aside></main><footer class=footer><div class=footer-container><div class="footer-line powered">由 <a href=https://gohugo.io/ target=_blank rel="external nofollow noopener noreferrer" title="Hugo 0.139.0"><img class=hugo-icon src=/images/hugo.min.svg alt="Hugo logo"> Hugo</a> 强力驱动 | 主题 - <a href=https://github.com/hugo-fixit/FixIt target=_blank rel=external title="FixIt v0.3.15"><img class=fixit-icon src=/images/fixit.min.svg alt="FixIt logo"> FixIt</a></div><div class="footer-line copyright" itemscope itemtype=http://schema.org/CreativeWork><i class="fa-regular fa-copyright fa-fw" aria-hidden=true></i>
<span itemprop=copyrightYear>2024</span><span class=author itemprop=copyrightHolder>
<a href=/>fengchen</a></span><span class="license footer-divider"><a rel="license external nofollow noopener noreferrer" href=https://creativecommons.org/licenses/by-nc/4.0/ target=_blank>CC BY-NC 4.0</a></span></div></div></footer></div><div class=widgets><div class="fixed-buttons animate__faster d-none"><div class="fixed-button back-to-top" role=button aria-label=回到顶部><i class="fa-solid fa-arrow-up fa-fw" aria-hidden=true></i><span class="variant-numeric d-none">0%</span></div></div><div id=mask></div><div class=reading-progress-bar style=left:0;top:0></div><noscript><div class=noscript-warning>该网站在启用 JavaScript 的情况下效果最佳。</div></noscript></div><link rel=preload href=/lib/katex/katex.min.css as=style onload='this.removeAttribute("onload"),this.rel="stylesheet"'><noscript><link rel=stylesheet href=/lib/katex/katex.min.css></noscript><link rel=stylesheet href=/lib/cookieconsent/cookieconsent.min.css><script src=/lib/autocomplete/autocomplete.min.js defer></script><script src=/lib/sharer/sharer.min.js async defer></script><script src=/lib/katex/katex.min.js defer></script><script src=/lib/katex/auto-render.min.js defer></script><script src=/lib/katex/copy-tex.min.js defer></script><script src=/lib/katex/mhchem.min.js defer></script><script src=/lib/cookieconsent/cookieconsent.min.js defer></script><script>window.config={code:{copyTitle:"复制到剪贴板",editLockTitle:"锁定可编辑代码块",editUnLockTitle:"解锁可编辑代码块",editable:!0,maxShownLines:100},comment:{enable:!1},cookieconsent:{content:{dismiss:"同意",link:"了解更多",message:"本网站使用 Cookies 来改善您的浏览体验。"},enable:!0,palette:{button:{background:"#f0f0f0"},popup:{background:"#1aa3ff"}},theme:"edgeless"},math:{delimiters:[{display:!0,left:"$$",right:"$$"},{display:!0,left:"\\[",right:"\\]"},{display:!0,left:"\\begin{equation}",right:"\\end{equation}"},{display:!0,left:"\\begin{equation*}",right:"\\end{equation*}"},{display:!0,left:"\\begin{align}",right:"\\end{align}"},{display:!0,left:"\\begin{align*}",right:"\\end{align*}"},{display:!0,left:"\\begin{alignat}",right:"\\end{alignat}"},{display:!0,left:"\\begin{alignat*}",right:"\\end{alignat*}"},{display:!0,left:"\\begin{gather}",right:"\\end{gather}"},{display:!0,left:"\\begin{CD}",right:"\\end{CD}"},{display:!1,left:"$",right:"$"},{display:!1,left:"\\(",right:"\\)"}],strict:!1},search:{highlightTag:"em",maxResultLength:10,noResultsFound:"没有找到结果",snippetLength:50},version:"v0.3.15"}</script><script src=/js/theme.min.js defer></script></body></html>